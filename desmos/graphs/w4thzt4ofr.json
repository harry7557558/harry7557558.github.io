{"hash": "w4thzt4ofr", "parent_hash": null, "thumbUrl": "https://saved-work.desmos.com/calc_thumbs/production/w4thzt4ofr.png", "stateUrl": "https://saved-work.desmos.com/calc-states/production/w4thzt4ofr", "title": "RYB Color Wheel Girl", "access": "link", "created": "Fri, 27 Aug 2021 15:02:30 GMT", "state": {"version": 9, "randomSeed": "80ab37e0b82774f136ce4a2943ef8931", "graph": {"viewport": {"xmin": -1.5449637486532908, "ymin": -1.2412418393348796, "xmax": 1.5087821399475396, "ymax": 1.3490494807541753}, "showGrid": false}, "expressions": {"list": [{"type": "text", "id": "72", "text": "WebGL version: https://www.shadertoy.com/view/Nd33zB"}, {"type": "folder", "id": "36", "title": "Small useful functions", "collapsed": true}, {"type": "text", "id": "13", "folderId": "36", "text": "Linear interpolation"}, {"type": "expression", "id": "1", "folderId": "36", "color": "#c74440", "latex": "m\\left(a,b,t\\right)=a+\\left(b-a\\right)t"}, {"type": "text", "id": "34", "folderId": "36", "text": "Smoothed blending functions"}, {"type": "expression", "id": "28", "folderId": "36", "color": "#388c46", "latex": "s_{mh}\\left(a,b,k\\right)=\\min\\left(\\max\\left(0.5+0.5\\frac{\\left(b-a\\right)}{k},0\\right),1\\right)"}, {"type": "expression", "id": "30", "folderId": "36", "color": "#000000", "latex": "s_{min}\\left(a,b,k\\right)=m\\left(b,a,s_{mh}\\left(a,b,k\\right)\\right)-ks_{mh}\\left(a,b,k\\right)\\left(1-s_{mh}\\left(a,b,k\\right)\\right)"}, {"type": "expression", "id": "32", "folderId": "36", "color": "#2d70b3", "latex": "s_{max}\\left(a,b,k\\right)=-s_{min}\\left(-a,-b,k\\right)"}, {"type": "folder", "id": "2", "title": "Color space conversion", "collapsed": true}, {"type": "text", "id": "6", "folderId": "2", "text": "HSL to RGB/RYB"}, {"type": "expression", "id": "3", "folderId": "2", "color": "#2d70b3", "latex": "r_{gbh}\\left(p,q,t\\right)=\\left\\{\\operatorname{mod}\\left(t,1\\right)<\\frac{1}{6}:m\\left(p,q,6\\operatorname{mod}\\left(t,1\\right)\\right),\\operatorname{mod}\\left(t,1\\right)<\\frac{1}{2}:q,\\operatorname{mod}\\left(t,1\\right)<\\frac{2}{3}:m\\left(p,q,6\\left(\\frac{2}{3}-\\operatorname{mod}\\left(t,1\\right)\\right)\\right),p\\right\\}"}, {"type": "expression", "id": "7", "folderId": "2", "color": "#000000", "latex": "q_{hsl}\\left(h,s,l\\right)=\\left\\{l<0.5:l\\left(1+s\\right),l+s-ls\\right\\}"}, {"type": "expression", "id": "8", "folderId": "2", "color": "#c74440", "latex": "r_{hsl}\\left(h,s,l\\right)=r_{gbh}\\left(2l-q_{hsl}\\left(h,s,l\\right),q_{hsl}\\left(h,s,l\\right),h+\\frac{1}{3}\\right)"}, {"type": "expression", "id": "9", "folderId": "2", "color": "#2d70b3", "latex": "g_{hsl}\\left(h,s,l\\right)=r_{gbh}\\left(2l-q_{hsl}\\left(h,s,l\\right),q_{hsl}\\left(h,s,l\\right),h\\right)"}, {"type": "expression", "id": "10", "folderId": "2", "color": "#388c46", "latex": "b_{hsl}\\left(h,s,l\\right)=r_{gbh}\\left(2l-q_{hsl}\\left(h,s,l\\right),q_{hsl}\\left(h,s,l\\right),h-\\frac{1}{3}\\right)"}, {"type": "text", "id": "55", "folderId": "2", "text": "RYB to RGB"}, {"type": "expression", "id": "56", "folderId": "2", "color": "#388c46", "latex": "c_{ryb000}=\\left[1,1,1\\right]"}, {"type": "expression", "id": "57", "folderId": "2", "color": "#6042a6", "latex": "c_{ryb001}=\\left[0.163,0.373,0.6\\right]"}, {"type": "expression", "id": "58", "folderId": "2", "color": "#000000", "latex": "c_{ryb010}=\\left[1,1,0\\right]"}, {"type": "expression", "id": "59", "folderId": "2", "color": "#c74440", "latex": "c_{ryb100}=\\left[1,0,0\\right]"}, {"type": "expression", "id": "60", "folderId": "2", "color": "#2d70b3", "latex": "c_{ryb011}=\\left[0,0.66,0.2\\right]"}, {"type": "expression", "id": "61", "folderId": "2", "color": "#388c46", "latex": "c_{ryb101}=\\left[0.5,0,0.5\\right]"}, {"type": "expression", "id": "62", "folderId": "2", "color": "#6042a6", "latex": "c_{ryb110}=\\left[1,0.5,0\\right]"}, {"type": "expression", "id": "63", "folderId": "2", "color": "#000000", "latex": "c_{ryb111}=\\left[0,0,0\\right]"}, {"type": "expression", "id": "64", "folderId": "2", "color": "#c74440", "latex": "r_{ryb}\\left(r,y,b\\right)=m\\left(m\\left(m\\left(c_{ryb000}\\left[1\\right],c_{ryb001}\\left[1\\right],b\\right),m\\left(c_{ryb010}\\left[1\\right],c_{ryb011}\\left[1\\right],b\\right),y\\right),m\\left(m\\left(c_{ryb100}\\left[1\\right],c_{ryb101}\\left[1\\right],b\\right),m\\left(c_{ryb110}\\left[1\\right],c_{ryb111}\\left[1\\right],b\\right),y\\right),r\\right)"}, {"type": "expression", "id": "65", "folderId": "2", "color": "#2d70b3", "latex": "g_{ryb}\\left(r,y,b\\right)=m\\left(m\\left(m\\left(c_{ryb000}\\left[2\\right],c_{ryb001}\\left[2\\right],b\\right),m\\left(c_{ryb010}\\left[2\\right],c_{ryb011}\\left[2\\right],b\\right),y\\right),m\\left(m\\left(c_{ryb100}\\left[2\\right],c_{ryb101}\\left[2\\right],b\\right),m\\left(c_{ryb110}\\left[2\\right],c_{ryb111}\\left[2\\right],b\\right),y\\right),r\\right)"}, {"type": "expression", "id": "66", "folderId": "2", "color": "#388c46", "latex": "b_{ryb}\\left(r,y,b\\right)=m\\left(m\\left(m\\left(c_{ryb000}\\left[3\\right],c_{ryb001}\\left[3\\right],b\\right),m\\left(c_{ryb010}\\left[3\\right],c_{ryb011}\\left[3\\right],b\\right),y\\right),m\\left(m\\left(c_{ryb100}\\left[3\\right],c_{ryb101}\\left[3\\right],b\\right),m\\left(c_{ryb110}\\left[3\\right],c_{ryb111}\\left[3\\right],b\\right),y\\right),r\\right)"}, {"type": "folder", "id": "27", "title": "Mask layer (girl)", "collapsed": true}, {"type": "expression", "id": "37", "folderId": "27", "color": "#000000", "latex": "d_{hair}\\left(x,y\\right)=s_{max}\\left(x+0.25y-0.65,-0.27x+y-0.94-0.01\\cos\\left(3x\\right),0.6\\right)"}, {"type": "expression", "id": "40", "folderId": "27", "color": "#388c46", "latex": "d_{face}\\left(x,y\\right)=-x-0.08y-0.6+0.03\\cos\\left(6y-1\\right)"}, {"type": "expression", "id": "41", "folderId": "27", "color": "#6042a6", "latex": "d_{chin}\\left(x,y\\right)=d_{face}\\left(x,y\\right)-\\left(-0.2+0.2\\tanh\\left(18\\left(y+0.4\\right)\\right)+0.1\\exp\\left(-3y-2.2\\right)\\right)"}, {"type": "expression", "id": "43", "folderId": "27", "color": "#c74440", "latex": "d_{nose}\\left(x,y\\right)=d_{chin}\\left(x,y\\right)-\\left(0.04\\exp\\left(-100\\left(y-0.1\\right)y\\right)\\left(0.8-x+10y\\right)\\right)"}, {"type": "expression", "id": "44", "folderId": "27", "color": "#2d70b3", "latex": "d_{mouth}\\left(x,y\\right)=d_{nose}\\left(x,y\\right)-\\left(0.03\\sin\\left(40\\left(y-0.03\\right)\\right)\\exp\\left(-100y^{2}\\right)\\right)"}, {"type": "expression", "id": "38", "folderId": "27", "color": "#c74440", "latex": "d_{head}\\left(x,y\\right)=s_{max}\\left(d_{hair}\\left(x,y\\right),d_{mouth}\\left(x,y\\right),0.2\\right)"}, {"type": "expression", "id": "45", "folderId": "27", "color": "#388c46", "latex": "d_{neck}\\left(x,y\\right)=s_{max}\\left(d_{head}\\left(x,y\\right),0.3x-y-0.87-0.01x^{2},0.05\\right)"}, {"type": "expression", "id": "46", "folderId": "27", "color": "#6042a6", "latex": "d_{back}\\left(x,y\\right)=s_{max}\\left(-\\left(x+0.7y+0.05-0.1\\exp\\left(-3y-2.2\\right)\\right),-0.6x+y+0.72-0.05\\sin\\left(8x\\right),0.02\\right)"}, {"type": "expression", "id": "49", "folderId": "27", "color": "#2d70b3", "latex": "d\\left(x,y\\right)=s_{max}\\left(d_{neck}\\left(x,y\\right),-d_{back}\\left(x,y\\right),0.02\\right)"}, {"type": "folder", "id": "15", "title": "Color wheel", "collapsed": true}, {"type": "expression", "id": "16", "folderId": "15", "color": "#2d70b3", "latex": "N_{R}=4", "slider": {"hardMin": true, "hardMax": true, "min": "1", "max": "6", "step": "1"}}, {"type": "expression", "id": "17", "folderId": "15", "color": "#388c46", "latex": "N_{A}=12", "slider": {"hardMin": true, "hardMax": true, "min": "6", "max": "18", "step": "1"}}, {"type": "expression", "id": "18", "folderId": "15", "color": "#6042a6", "latex": "I=\\left[0,1,...,N_{R}N_{A}-1\\right]"}, {"type": "expression", "id": "19", "folderId": "15", "color": "#000000", "latex": "I_{R}=\\frac{1}{3}\\operatorname{floor}\\left(\\frac{I}{N_{A}}\\right)"}, {"type": "expression", "id": "20", "folderId": "15", "color": "#c74440", "latex": "I_{A}=\\frac{1}{N_{A}}\\operatorname{mod}\\left(I,N_{A}\\right)"}, {"type": "expression", "id": "22", "folderId": "15", "color": "#388c46", "latex": "r_{xy}\\left(x,y\\right)=\\sqrt{x^{2}+y^{2}}"}, {"type": "expression", "id": "21", "folderId": "15", "color": "#2d70b3", "latex": "a_{xy}\\left(x,y\\right)=\\operatorname{mod}\\left(\\frac{\\arctan\\left(x,y\\right)}{2\\pi}+\\frac{1}{2N_{A}},1\\right)-\\frac{1}{2N_{A}}"}, {"type": "expression", "id": "24", "folderId": "15", "color": "#000000", "latex": "l_{r}\\left(r\\right)=1-0.8e^{-0.8r}", "hidden": true}, {"type": "expression", "id": "25", "folderId": "15", "color": "#c74440", "latex": "c_{rgb}=\\operatorname{rgb}\\left(255r_{hsl}\\left(I_{A},1,l_{r}\\left(I_{R}\\right)\\right),255g_{hsl}\\left(I_{A},1,l_{r}\\left(I_{R}\\right)\\right),255b_{hsl}\\left(I_{A},1,l_{r}\\left(I_{R}\\right)\\right)\\right)"}, {"type": "expression", "id": "67", "folderId": "15", "color": "#6042a6", "latex": "c_{rybr}=r_{ryb}\\left(r_{hsl}\\left(I_{A},1,l_{r}\\left(I_{R}\\right)\\right),g_{hsl}\\left(I_{A},1,l_{r}\\left(I_{R}\\right)\\right),b_{hsl}\\left(I_{A},1,l_{r}\\left(I_{R}\\right)\\right)\\right)"}, {"type": "expression", "id": "68", "folderId": "15", "color": "#000000", "latex": "c_{rybg}=g_{ryb}\\left(r_{hsl}\\left(I_{A},1,l_{r}\\left(I_{R}\\right)\\right),g_{hsl}\\left(I_{A},1,l_{r}\\left(I_{R}\\right)\\right),b_{hsl}\\left(I_{A},1,l_{r}\\left(I_{R}\\right)\\right)\\right)"}, {"type": "expression", "id": "69", "folderId": "15", "color": "#c74440", "latex": "c_{rybb}=b_{ryb}\\left(r_{hsl}\\left(I_{A},1,l_{r}\\left(I_{R}\\right)\\right),g_{hsl}\\left(I_{A},1,l_{r}\\left(I_{R}\\right)\\right),b_{hsl}\\left(I_{A},1,l_{r}\\left(I_{R}\\right)\\right)\\right)"}, {"type": "expression", "id": "70", "folderId": "15", "color": "#2d70b3", "latex": "c_{ryb}=\\operatorname{rgb}\\left(255c_{rybr},255c_{rybg},255c_{rybb}\\right)"}, {"type": "expression", "id": "51", "folderId": "15", "color": "#000000", "latex": "C=\\left(0,0.15\\right)", "hidden": true, "dragMode": "NONE"}, {"type": "expression", "id": "52", "folderId": "15", "color": "#000000", "latex": "w\\left(x,y\\right)=\\max\\left(\\operatorname{abs}\\left(r_{xy}\\left(x-C.x,y-C.y\\right)-I_{R}\\right)-\\frac{1}{6},\\operatorname{abs}\\left(a_{xy}\\left(x-C.x,y-C.y\\right)-I_{A}\\right)-\\frac{1}{2N_{A}}\\right)"}, {"type": "expression", "id": "53", "color": "#c74440", "latex": "\\max\\left(\\operatorname{abs}\\left(r_{xy}\\left(x,y\\right)-I_{R}\\right)-\\frac{1}{6},\\operatorname{abs}\\left(a_{xy}\\left(x,y\\right)-I_{A}\\right)-\\frac{1}{2N_{A}}\\right)\\le0", "hidden": true, "colorLatex": "c_{ryb}", "fillOpacity": "0.9"}, {"type": "expression", "id": "23", "color": "#6042a6", "latex": "\\max\\left(d\\left(x,y\\right),w\\left(x,y\\right)\\right)\\le0", "colorLatex": "c_{ryb}", "fillOpacity": "0.9"}]}}}
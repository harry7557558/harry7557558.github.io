{"hash":"2600556a33","parent_hash":"5eb213e2ac","thumbUrl":"https://www.desmos.com/calc-3d-thumbs/production/2600556a33.png","stateUrl":"https://www.desmos.com/calc-3d-states/production/2600556a33","title":"Nautilus & Quartz","created":"Mon, 15 Jan 2024 02:59:22 GMT","state":{"version":11,"randomSeed":"6ed0c9d3400d92723b530c146ec69d0b","graph":{"viewport":{"xmin":-2.7135058270284684,"ymin":-2.984818567320495,"zmin":-1.3633291803250467,"xmax":2.5897076794244756,"ymax":2.3183949391324488,"zmax":3.9398843261278973},"userLockedViewport":true,"threeDMode":true,"worldRotation3D":[-0.9959783388583091,-0.08959435543070307,0,0.08959435543070307,-0.9959783388583091,0,0,0,1],"axis3D":[0.08959435543066702,0.9959783388579083,6.468143984772671e-16],"showPlane3D":false,"showAxis3D":false,"product":"graphing-3d"},"expressions":{"list":[{"type":"text","id":"280","text":"\"Nautilus & Quartz\" by Harry Chen (harry7557558)"},{"type":"text","id":"282","text":"My artwork consists of an eye decorated with abstract objects belonging to four classes: a horned nautilus shell, quartz crystals, geometric shapes, and flowers. The objects in decoration are chosen to represent natural elements from animal to plant to mineral, while the eye represents human perception, awareness, and curiosity. I aimed to create peaceful and joyful forms that display harmony between parts, while balancing simplicity and variety in mathematical expressions."},{"type":"text","id":"284","text":"In the artwork, the eyeball is defined by an implicit equation, while the iris and pupil are parametric curves and surfaces. The nautilus shell and the quartz are parametric surfaces discretized to polygons for a \"low-poly\" appearance and improving speed. The geometric shapes are regular polyhedra, and the flowers are families of parametric curves. Harmony and joy are achieved through careful position and orientation of objects and vibrant and varied colors."},{"type":"text","id":"502","text":"To see a list of my saved Desmos graphs, visit https://harry7557558.github.io/desmos/\nTo see a math grapher I coded from scratch (and example shapes), visit https://spirulae.github.io/"},{"type":"expression","id":"503","color":"#388c46"},{"type":"folder","id":"324","title":"Misc help function","collapsed":true},{"type":"text","id":"139","folderId":"324","text":"Rotation of a 3D point with 2 degrees of freedom:\nfirst about x-axis, then about global z-axis\n\nGenerated by multiplying two 3D rotation matrices https://en.wikipedia.org/wiki/Rotation_matrix#In_three_dimensions"},{"type":"expression","id":"102","folderId":"324","color":"#c74440","latex":"R_{otate}\\left(p,r_{x},r_{z}\\right)=\\left(\\left(\\cos\\left(r_{z}\\right),-\\cos\\left(r_{x}\\right)\\sin\\left(r_{z}\\right),\\sin\\left(r_{x}\\right)\\sin\\left(r_{z}\\right)\\right)\\cdot p,\\left(\\sin\\left(r_{z}\\right),\\cos\\left(r_{x}\\right)\\cos\\left(r_{z}\\right),-\\sin\\left(r_{x}\\right)\\cos\\left(r_{z}\\right)\\right)\\cdot p,\\left(0,\\sin\\left(r_{x}\\right),\\cos\\left(r_{x}\\right)\\right)\\cdot p\\right)"},{"type":"folder","id":"10","title":"Eye","collapsed":true},{"type":"text","id":"257","folderId":"10","text":"Eyeball\n- revolve a parabola about y-axis: sqrt(x\u00b2+z\u00b2) = 1-y\u00b2/4\n- rewrite: y\u00b2 = 4(1-sqrt(x\u00b2+z\u00b2))\n- make the endpoints more smooth: +0.2\u00b2 inside sqrt\n- distort the eyeball slightly with cosine (find a good shape with trials)\n- color: blueish tint"},{"type":"expression","id":"1","folderId":"10","color":"#aaaaaa","latex":"y^{2}=4\\left(1-\\sqrt{x^{2}+\\left(z+0.1\\cos\\left(y+0.2\\right)-0.1\\right)^{2}+0.2^{2}}\\right)","colorLatex":"c_{eye}"},{"type":"expression","id":"224","folderId":"10","color":"#2d70b3","latex":"c_{eye}=\\operatorname{hsv}\\left(220,0.05,0.85\\right)"},{"type":"text","id":"262","folderId":"10","text":"Iris\n- arctan(cot(x)) gives an inverse sawtooth wave with period \u03c0 and amplitude \u03c0/2 \n- 0.6 + 0.5/\u03c0 arctan(cot(4t)) gives 8 pieces for t between 0 and 2\u03c0 ranging from 0.6\u00b10.25\n- transform to polar coordinates along x-axis, scale by 0.7\n- translate 1.05 along x-axis, bend it quadratically to match eyeball shape"},{"type":"expression","id":"5","folderId":"10","color":"#aaaaaa","latex":"r_{iris}\\left(t\\right)=0.6+\\frac{0.5}{\\pi}\\arctan\\left(\\cot\\left(4t\\right)\\right)"},{"type":"expression","id":"2","folderId":"10","color":"#2d70b3","latex":"0.7r_{iris}\\left(t\\right)\\left(0,\\cos\\left(t\\right),\\sin\\left(t\\right)\\right)+\\left(1.05-0.15r_{iris}\\left(t\\right)^{2},0,0\\right)","parametricDomain":{"min":"","max":"2\\pi"},"domain":{"min":"0","max":"2\\pi"}},{"type":"text","id":"271","folderId":"10","text":"- boundary curve: a circle centered at (0.8,0,0) facing x-axis with radius 0.7, bent by 0.1cos(2t) to match eyeball shape\n- surface: filled circle, with inner part bent outward with 0.2(1-v\u00b2)\n- give them warm colors, keep the colors light to fit the scene"},{"type":"expression","id":"4","folderId":"10","color":"#388c46","latex":"\\left(0.8+0.1\\cos\\left(2t\\right),0.7\\cos\\left(t\\right),0.7\\sin\\left(t\\right)\\right)","parametricDomain":{"min":"","max":"2\\pi"},"colorLatex":"c_{irisBoundary}","domain":{"min":"0","max":"2\\pi"}},{"type":"expression","id":"250","folderId":"10","color":"#2d70b3","latex":"\\left(0.8+0.1\\cos\\left(2u\\right)v^{2}+0.2\\left(1-v^{2}\\right),0.7\\cos\\left(u\\right)v,0.7\\sin\\left(u\\right)v\\right)","parametricDomain3Du":{"min":"","max":"2\\pi"},"parametricDomain3Dv":{"min":"0.2","max":"1"},"colorLatex":"c_{iris}"},{"type":"expression","id":"251","folderId":"10","color":"#388c46","latex":"c_{iris}=\\operatorname{hsv}\\left(20,0.1,0.8\\right)"},{"type":"expression","id":"272","folderId":"10","color":"#6042a6","latex":"c_{irisBoundary}=\\operatorname{hsv}\\left(40,0.2,0.5\\right)"},{"type":"text","id":"274","folderId":"10","text":"Pupil\n- r = sec(\u03b8) gives a straight line\n- asin(sin(nt))/n generates a triangle wave with unit slope and n periods between 0 and 2\u03c0\n- combining sec and triangle wave gives a regular polygon\n- n[pupil]=5 gives a pentagon, play with the slider to test regular polygons with different number of sides"},{"type":"expression","id":"275","folderId":"10","color":"#c74440","latex":"n_{pupil}=5","slider":{"hardMin":true,"hardMax":true,"min":"3","max":"8","step":"1"}},{"type":"expression","id":"7","folderId":"10","color":"#2d70b3","latex":"r_{pupil}\\left(t\\right)=0.12\\sec\\left(\\frac{2}{n_{pupil}}\\arcsin\\left(\\sin\\left(\\frac{n_{pupil}}{2}t\\right)\\right)\\right)"},{"type":"expression","id":"6","folderId":"10","color":"#6042a6","latex":"\\left(1,r_{pupil}\\left(t\\right)\\cos\\left(t\\right),r_{pupil}\\left(t\\right)\\sin\\left(t\\right)\\right)","parametricDomain":{"min":"","max":"2\\pi"},"domain":{"min":"0","max":"2\\pi"}},{"type":"text","id":"278","folderId":"10","text":"- fill the pupil\n- 0.05(1-v): bend outward, keep an angle at the center\n- color it with a slightly higher saturation"},{"type":"expression","id":"252","folderId":"10","color":"#6042a6","latex":"\\left(1+0.05\\left(1-v\\right),r_{pupil}\\left(u\\right)\\cos\\left(u\\right)v,r_{pupil}\\left(u\\right)\\sin\\left(u\\right)v\\right)","parametricDomain3Du":{"min":"","max":"2\\pi"},"colorLatex":"c_{pupil}"},{"type":"expression","id":"253","folderId":"10","color":"#aaaaaa","latex":"c_{pupil}=\\operatorname{hsv}\\left(40,0.3,0.8\\right)"},{"type":"folder","id":"14","title":"Nautilus","collapsed":true},{"type":"text","id":"288","folderId":"14","text":"The nautilus is a parametric surface based on a logarithmic spiral\n - u is the longitude parameter\n - ln(v) is the angle of revolution\n\nBased on the equation of a torus, radii R is defined as:\n - v^1.6: the power defines how fast the shell \"opens\"\n - 1-0.3|sin(9\u03c0ln(v))|\u2070.5: defines the \"horns\" along angle of revolution\n - (1-|u|/\u03c0)\u2074: make the \"horns\" sharper by shrinking in longitudinal direction"},{"type":"expression","id":"17","folderId":"14","color":"#6042a6","latex":"R_{nau}\\left(u,v\\right)=v^{1.6}\\left(1-0.3\\left|\\sin\\left(9\\pi\\ln\\left(v\\right)\\right)\\right|^{0.5}\\right)\\left(1-\\frac{\\left|u\\right|}{\\pi}\\right)^{4}"},{"type":"expression","id":"15","folderId":"14","color":"#2d70b3","latex":"X_{nau}\\left(u,v\\right)=R_{nau}\\left(u,v\\right)\\cos\\left(2\\pi\\ln\\left(v\\right)\\right)\\left(1+\\cos\\left(u\\right)\\right)"},{"type":"expression","id":"16","folderId":"14","color":"#388c46","latex":"Y_{nau}\\left(u,v\\right)=R_{nau}\\left(u,v\\right)\\sin\\left(2\\pi\\ln\\left(v\\right)\\right)\\left(1+\\cos\\left(u\\right)\\right)"},{"type":"expression","id":"18","folderId":"14","color":"#aaaaaa","latex":"Z_{nau}\\left(u,v\\right)=R_{nau}\\left(u,v\\right)\\sin\\left(u\\right)"},{"type":"text","id":"290","folderId":"14","text":"Translate and rotate the shell\n - switching letters reorient the shell (axis of revolution pointing top -> pointing front)\n - adding 0.5 translates the shell, making its visual center closer to the origin\n - matrix [1 -0.65; 0.65 1] produces a rotation along axis of revolution, followed by a scaling that avoids trigonometric functions"},{"type":"expression","id":"21","folderId":"14","color":"#388c46","latex":"X_{nau1}\\left(u,v\\right)=2Z_{nau}\\left(u,v\\right)"},{"type":"expression","id":"22","folderId":"14","color":"#6042a6","latex":"Y_{nau1}\\left(u,v\\right)=0.5-X_{nau}\\left(u,v\\right)+0.7Y_{nau}\\left(u,v\\right)"},{"type":"expression","id":"23","folderId":"14","color":"#aaaaaa","latex":"Z_{nau1}\\left(u,v\\right)=-Y_{nau}\\left(u,v\\right)-0.7X_{nau}\\left(u,v\\right)"},{"type":"text","id":"293","folderId":"14","text":"Rotate (with scale) about y-axis, make it fall back at the top"},{"type":"expression","id":"294","folderId":"14","color":"#388c46","latex":"X_{nau2}\\left(u,v\\right)=X_{nau1}\\left(u,v\\right)-0.3Z_{nau1}\\left(u,v\\right)"},{"type":"expression","id":"295","folderId":"14","color":"#6042a6","latex":"Y_{nau2}\\left(u,v\\right)=Y_{nau1}\\left(u,v\\right)"},{"type":"expression","id":"296","folderId":"14","color":"#aaaaaa","latex":"Z_{nau2}\\left(u,v\\right)=Z_{nau1}\\left(u,v\\right)+0.3X_{nau1}\\left(u,v\\right)"},{"type":"text","id":"298","folderId":"14","text":"Parametric equation, with appropriate scaling"},{"type":"expression","id":"19","folderId":"14","color":"#c74440","latex":"S_{nau}\\left(u,v\\right)=0.83\\left(X_{nau2}\\left(u,v\\right),Y_{nau2}\\left(u,v\\right),Z_{nau2}\\left(u,v\\right)\\right)","parametricDomain3Du":{"min":"-\\pi","max":"\\pi"}},{"type":"text","id":"300","folderId":"14","text":"Position, pull this out since it's used later multiple times"},{"type":"expression","id":"223","folderId":"14","color":"#c74440","latex":"p_{nau}=\\left(0.65,-0.95,1.1\\right)","hidden":true},{"type":"text","id":"302","folderId":"14","text":"Parametric equation after translation, unhide to show"},{"type":"expression","id":"20","folderId":"14","color":"#c74440","latex":"S_{nau}\\left(u,v\\right)+p_{nau}","hidden":true,"parametricDomain3Du":{"min":"-\\pi","max":"\\pi"},"colorLatex":"c_{nau}"},{"type":"text","id":"305","folderId":"14","text":"Discretize the nautilus to triangles produce a \"low-poly\" appearance and to improve rendering speed\n - u direction: discretize into 2M pieces, apply arcsin (as sine is used in producing \"horns\") to make it more linear\n - v direction: discretize into N pieces, apply exponential (as log transforms v to angle) to match the horn locations"},{"type":"expression","id":"158","folderId":"14","color":"#c74440","latex":"M_{nau}=2","slider":{"hardMin":true,"min":"1","max":"10","step":"1"}},{"type":"expression","id":"156","folderId":"14","color":"#6042a6","latex":"U_{nau}=\\arcsin\\left(\\frac{\\left[-M_{nau}...M_{nau}-1\\right]}{M_{nau}}\\right)"},{"type":"expression","id":"160","folderId":"14","color":"#388c46","latex":"N_{nau}=20","slider":{"hardMin":true,"hardMax":true,"min":"1","max":"40","step":"1"}},{"type":"expression","id":"159","folderId":"14","color":"#2d70b3","latex":"V_{nau0}=-\\left[0...N_{nau}-1\\right]"},{"type":"expression","id":"163","folderId":"14","color":"#c74440","latex":"V_{nau}=\\exp\\left(\\frac{1}{18}V_{nau0}\\right)"},{"type":"text","id":"307","folderId":"14","text":"Flatten 2MN vertices into a linear array, I for u indices (0 indexed) and J for v indices (1 indexed)"},{"type":"expression","id":"170","folderId":"14","color":"#388c46","latex":"K_{nau}=\\left[1...2M_{nau}N_{nau}\\right]"},{"type":"expression","id":"177","folderId":"14","color":"#aaaaaa","latex":"I_{nau}=\\operatorname{floor}\\left(\\frac{K_{nau}-0.5}{N_{nau}}\\right)"},{"type":"expression","id":"178","folderId":"14","color":"#c74440","latex":"J_{nau}=\\operatorname{mod}\\left(K_{nau}-1,N_{nau}\\right)+1"},{"type":"text","id":"309","folderId":"14","text":"Vertices of discretized shape"},{"type":"expression","id":"171","folderId":"14","color":"#6042a6","latex":"P_{nau}=S_{nau}\\left(U_{nau}\\left[I_{nau}+1\\right],V_{nau}\\left[J_{nau}\\right]\\right)+p_{nau}","hidden":true},{"type":"text","id":"311","folderId":"14","text":"Triangles with indices, note that u repeats while v doesn't"},{"type":"expression","id":"173","folderId":"14","color":"#c74440","latex":"\\operatorname{triangle}\\left(P_{nau}\\left[I_{nau}N_{nau}+J_{nau}\\right],P_{nau}\\left[\\operatorname{mod}\\left(I_{nau}+1,2M_{nau}\\right)N_{nau}+J_{nau}\\right],P_{nau}\\left[I_{nau}N_{nau}+\\min\\left(J_{nau}+1,N_{nau}\\right)\\right]\\right)","colorLatex":"c_{nau2}"},{"type":"expression","id":"174","folderId":"14","color":"#fa7e19","latex":"\\operatorname{triangle}\\left(P_{nau}\\left[\\operatorname{mod}\\left(I_{nau}+1,2M_{nau}\\right)N_{nau}+\\min\\left(J_{nau}+1,N_{nau}\\right)\\right],P_{nau}\\left[I_{nau}N_{nau}+\\left(J_{nau}+1\\right)\\right],P_{nau}\\left[\\operatorname{mod}\\left(I_{nau}+1,2M_{nau}\\right)N_{nau}+J_{nau}\\right]\\right)","colorLatex":"c_{nau1}"},{"type":"text","id":"313","folderId":"14","text":"Give the nautilus a vibrant red/magenta color"},{"type":"expression","id":"217","folderId":"14","color":"#aaaaaa","latex":"c_{nau1}=\\operatorname{hsv}\\left(-30,0.8,0.9\\right)"},{"type":"expression","id":"218","folderId":"14","color":"#c74440","latex":"c_{nau2}=\\operatorname{hsv}\\left(0,0.7,0.9\\right)"},{"type":"text","id":"315","folderId":"14","text":"Mesh grid as parametric curves, with lighter color, slightly scale latitudinal grid lines to prevent it from occlusion of discretized triangles"},{"type":"expression","id":"157","folderId":"14","color":"#fa7e19","latex":"1.05S_{nau}\\left(U_{nau},v\\right)+p_{nau}","colorLatex":"c_{nau4}"},{"type":"expression","id":"161","folderId":"14","color":"#aaaaaa","latex":"S_{nau}\\left(u,V_{nau}\\right)+p_{nau}","parametricDomain3Du":{"min":"-\\pi","max":"\\pi"},"colorLatex":"c_{nau3}"},{"type":"expression","id":"219","folderId":"14","color":"#2d70b3","latex":"c_{nau3}=\\operatorname{hsv}\\left(-30,0.2,0.9\\right)"},{"type":"expression","id":"220","folderId":"14","color":"#388c46","latex":"c_{nau4}=\\operatorname{hsv}\\left(20,0.2,0.9\\right)"},{"type":"folder","id":"25","title":"Quartz","collapsed":true},{"type":"text","id":"354","folderId":"25","text":"Each quartz crystal is a reshaped cylinder defined by parametric equations"},{"type":"text","id":"318","folderId":"25","text":"Manually selected parameters for each quartz crystal\n- Rz: rotation about z-axis\n- Rx: rotation about x-axis\n- Lq: relative length\n- Wq: relative width\n- Xqd, Yqd, Zqd: relative position"},{"id":"65","type":"table","folderId":"25","columns":[{"values":["-0.3\\pi","0.8\\pi","0.12\\pi","-0.05\\pi","0.05\\pi"],"hidden":true,"id":"63","color":"#aaaaaa","latex":"R_{qz}"},{"values":["0.02\\pi","0.04\\pi","0.18\\pi","0.13\\pi","0.09\\pi"],"id":"64","color":"#c74440","latex":"R_{qx}"},{"values":["1.45","1.1","1.0","1.15","1.2"],"id":"66","color":"#2d70b3","latex":"L_{q}"},{"values":["0.11","0.09","0.1","0.1","0.1"],"id":"67","color":"#388c46","latex":"W_{q}"},{"values":["0","0.1","0.1","0.1","0.2"],"id":"68","color":"#6042a6","latex":"X_{qd}"},{"values":["-0.05","0","-0.05","0","0.05"],"id":"69","color":"#aaaaaa","latex":"Y_{qd}"},{"values":["-0.1","0","-0.1","-0.1","0"],"id":"70","color":"#c74440","latex":"Z_{qd}"}]},{"type":"text","id":"342","folderId":"25","text":"Shaping the cylinder along polar angle, equation of a polar pentagon with size R, similar to the pupil case"},{"type":"expression","id":"39","folderId":"25","color":"#aaaaaa","latex":"r_{qu}\\left(u\\right)=W_{q}\\sec\\left(\\frac{1}{2.5}\\arcsin\\left(\\sin\\left(2.5u\\right)\\right)\\right)"},{"type":"text","id":"344","folderId":"25","text":"Shape the cylinder along axis, a function that is 1 when v<0.8 and ramp to 0 when 0.8<v<1; In the parametric equation of the cylinder, 0<v<1"},{"type":"expression","id":"42","folderId":"25","color":"#388c46","latex":"r_{qv}\\left(v\\right)=\\min\\left(1,5\\left(1-v\\right)\\right)"},{"type":"text","id":"356","folderId":"25","text":"Parametric equation of one crystal, deformed cylinder, scale z accordingly.\n\nEach crystal is rooted at origin and points straight up. Unhide \"2P[q0](u,v)\" to see what one crystal looks like."},{"type":"expression","id":"26","folderId":"25","color":"#2d70b3","latex":"X_{q0}\\left(u,v\\right)=r_{qu}\\left(u\\right)r_{qv}\\left(v\\right)\\cos\\left(u\\right)"},{"type":"expression","id":"43","folderId":"25","color":"#6042a6","latex":"Y_{q0}\\left(u,v\\right)=r_{qu}\\left(u\\right)r_{qv}\\left(v\\right)\\sin\\left(u\\right)"},{"type":"expression","id":"44","folderId":"25","color":"#aaaaaa","latex":"Z_{q0}\\left(u,v\\right)=1.3L_{q}v"},{"type":"expression","id":"319","folderId":"25","color":"#388c46","latex":"P_{q0}\\left(u,v\\right)=\\left(X_{q0}\\left(u,v\\right),Y_{q0}\\left(u,v\\right),Z_{q0}\\left(u,v\\right)\\right)"},{"type":"expression","id":"359","folderId":"25","color":"#c74440","latex":"2P_{q0}\\left(u,v\\right)","hidden":true,"parametricDomain3Du":{"min":"","max":"2\\pi"},"parametricDomain3Dv":{"min":"","max":"1"}},{"type":"text","id":"361","folderId":"25","text":"Transform the crystals\n - Rotation, make it not pointing straight up\n - Local translation, make the roots not at the same point\n - Scaling to fit the size of the scene\n - Global translation, move the crystals to appropriate position"},{"type":"expression","id":"320","folderId":"25","color":"#6042a6","latex":"P_{q1}\\left(u,v\\right)=R_{otate}\\left(P_{q0}\\left(u,v\\right),R_{qx},R_{qz}\\right)+\\left(X_{qd},Y_{qd},Z_{qd}\\right)"},{"type":"expression","id":"227","folderId":"25","color":"#388c46","latex":"P_{q}\\left(u,v\\right)=1.7P_{q1}\\left(u,v\\right)+\\left(-0.2,-0.8,0.7\\right)"},{"type":"expression","id":"49","folderId":"25","color":"#6042a6","latex":"P_{q}\\left(u,v\\right)","hidden":true,"parametricDomain3Du":{"min":"","max":"2\\pi"}},{"type":"text","id":"363","folderId":"25","text":"Split the crystals into triangles to allow different colors and faster rendering"},{"type":"text","id":"367","folderId":"25","text":"Indices for points, 5 points per loop x 5 crystals, each crystal form a loop (eg. connect P[1,2,3,4,5] and P[2,3,4,5,1] to form 5 segments)"},{"type":"expression","id":"231","folderId":"25","color":"#2d70b3","latex":"I_{q0}=\\left[1...25\\right]"},{"type":"expression","id":"236","folderId":"25","color":"#2d70b3","latex":"I_{q1}=I_{q0}+1-\\left\\{\\operatorname{mod}\\left(I_{q0},5\\right)=0:5,0\\right\\}"},{"type":"text","id":"378","folderId":"25","text":"Points at bottom (v=0), middle top (v=0.8), and tip (v=1)\n- mod(i-1,5) gives index of point at a loop, remapped to polar angle u\n- ceil(i/5) gives index of the crystal\n- summation trick in Desmos concatenates 5 arrays for 5 crystals"},{"type":"expression","id":"233","folderId":"25","color":"#6042a6","latex":"P_{qu0}=\\sum_{i=I_{q0}}^{I_{q0}}P_{q}\\left(-\\pi+\\frac{2}{5}\\pi\\operatorname{mod}\\left(i-1,5\\right),0\\right)\\left[\\operatorname{ceil}\\left(\\frac{i}{5}\\right)\\right]","hidden":true},{"type":"expression","id":"234","folderId":"25","color":"#aaaaaa","latex":"P_{qu1}=\\sum_{i=I_{q0}}^{I_{q0}}P_{q}\\left(-\\pi+\\frac{2}{5}\\pi\\operatorname{mod}\\left(i-1,5\\right),0.8\\right)\\left[\\operatorname{ceil}\\left(\\frac{i}{5}\\right)\\right]","hidden":true},{"type":"expression","id":"243","folderId":"25","color":"#6042a6","latex":"P_{qu2}=\\sum_{i=I_{q0}}^{I_{q0}}P_{q}\\left(-\\pi+\\frac{2}{5}\\pi\\operatorname{mod}\\left(i-1,5\\right),1\\right)\\left[\\operatorname{ceil}\\left(\\frac{i}{5}\\right)\\right]","hidden":true},{"type":"text","id":"474","folderId":"25","text":"Create triangles for crystals\n- upper body: purple\n- lower body (\"slice\" viewed from front): cyan\n- tip: magenta"},{"type":"expression","id":"246","folderId":"25","color":"#2d70b3","latex":"c_{q0}=\\operatorname{hsv}\\left(-100,s,l\\right)"},{"type":"expression","id":"235","folderId":"25","color":"#6042a6","latex":"\\operatorname{triangle}\\left(P_{qu0}\\left[I_{q0}\\right],P_{qu1}\\left[I_{q0}\\right],P_{qu1}\\left[I_{q1}\\right]\\right)","colorLatex":"c_{q0}"},{"type":"expression","id":"247","folderId":"25","color":"#388c46","latex":"c_{q1}=\\operatorname{hsv}\\left(-150,s,l\\right)"},{"type":"expression","id":"229","folderId":"25","color":"#aaaaaa","latex":"\\operatorname{triangle}\\left(P_{qu0}\\left[I_{q0}\\right],P_{qu0}\\left[I_{q1}\\right],P_{qu1}\\left[I_{q1}\\right]\\right)","colorLatex":"c_{q1}"},{"type":"expression","id":"248","folderId":"25","color":"#6042a6","latex":"c_{q2}=\\operatorname{hsv}\\left(-75,s,l\\right)"},{"type":"expression","id":"498","folderId":"25","color":"#aaaaaa","latex":"s=0.8","slider":{"hardMin":true,"hardMax":true,"min":"0","max":"1"}},{"type":"expression","id":"499","folderId":"25","color":"#c74440","latex":"l=0.9","slider":{"hardMin":true,"hardMax":true,"min":"0","max":"1"}},{"type":"expression","id":"245","folderId":"25","color":"#c74440","latex":"\\operatorname{triangle}\\left(P_{qu1}\\left[I_{q0}\\right],P_{qu1}\\left[I_{q1}\\right],P_{qu2}\\left[I_{q1}\\right]\\right)","colorLatex":"c_{q2}"},{"type":"folder","id":"131","title":"Geometric Shapes","collapsed":true},{"type":"text","id":"476","folderId":"131","text":"Geometric shapes are cubes and regular octahedra oriented, scaled, and positioned appropriately. They are stored as vertices and triangle indices similar to in OBJ 3D models."},{"type":"text","id":"135","folderId":"131","text":"Cube - 6 vertices and triangle indices"},{"type":"expression","id":"105","folderId":"131","color":"#6042a6","latex":"P_{6}=\\frac{1}{2}\\cdot\\left[\\left(1,-1,-1\\right),\\left(1,-1,1\\right),\\left(-1,-1,1\\right),\\left(-1,-1,-1\\right),\\left(1,1,-1\\right),\\left(1,1,1\\right),\\left(-1,1,1\\right),\\left(-1,1,-1\\right)\\right]","hidden":true},{"type":"expression","id":"106","folderId":"131","color":"#aaaaaa","latex":"I_{6}=\\left[\\left(2,3,4\\right),\\left(5,8,7\\right),\\left(5,6,2\\right),\\left(2,6,7\\right),\\left(7,8,4\\right),\\left(5,1,4\\right),\\left(1,2,4\\right),\\left(6,5,7\\right),\\left(1,5,2\\right),\\left(3,2,7\\right),\\left(3,7,4\\right),\\left(8,5,4\\right)\\right]","hidden":true},{"type":"text","id":"137","folderId":"131","text":"Octahedron - 8 vertices and triangle indices, normalize volume to 1"},{"type":"expression","id":"85","folderId":"131","color":"#6042a6","latex":"P_{8}=\\left(\\frac{4}{3}\\right)^{-\\frac{1}{3}}\\cdot\\left[\\left(0,0,1\\right),\\left(-1,0,0\\right),\\left(0,-1,0\\right),\\left(1,0,0\\right),\\left(0,1,0\\right),\\left(0,0,-1\\right)\\right]","hidden":true},{"type":"expression","id":"83","folderId":"131","color":"#2d70b3","latex":"I_{8}=\\left[\\left(1,2,3\\right),\\left(1,3,4\\right),\\left(1,4,5\\right),\\left(1,5,2\\right),\\left(6,3,2\\right),\\left(6,4,3\\right),\\left(6,5,4\\right),\\left(6,2,5\\right)\\right]","hidden":true},{"type":"text","id":"339","folderId":"131","text":"Finding the appropriate angles for a 2-DOF rotation can be handy. To test different rotations, replace later two parameters in the R_otate function with a1*\u03c0 and a2*\u03c0 and drag the sliders until it gives a nice visual appearance."},{"type":"expression","id":"115","folderId":"131","color":"#6042a6","latex":"a_{1}=0.265","slider":{"hardMin":true,"hardMax":true,"min":"-1","max":"1"}},{"type":"expression","id":"116","folderId":"131","color":"#aaaaaa","latex":"a_{2}=-0.2","slider":{"hardMin":true,"hardMax":true,"min":"-1","max":"1"}},{"type":"text","id":"141","folderId":"131","text":"Bottom left cube (blue)"},{"type":"expression","id":"109","folderId":"131","color":"#388c46","latex":"P_{61}=0.75R_{otate}\\left(P_{6},-0.1\\pi,-0.9\\pi\\right)+\\left(0,-1.7,0.65\\right)","hidden":true},{"type":"expression","id":"154","folderId":"131","color":"#2d70b3","latex":"c_{61}=\\operatorname{hsv}\\left(200,0.9,0.75\\right)"},{"type":"expression","id":"107","folderId":"131","color":"#2d70b3","latex":"\\operatorname{triangle}\\left(P_{61}\\left[I_{6}.x\\right],P_{61}\\left[I_{6}.y\\right],P_{61}\\left[I_{6}.z\\right]\\right)","colorLatex":"c_{61}"},{"type":"text","id":"143","folderId":"131","text":"Middle octahedron (lime green)"},{"type":"expression","id":"103","folderId":"131","color":"#2d70b3","latex":"P_{81}=0.75R_{otate}\\left(P_{8},0.25\\pi,0.25\\pi\\right)+\\left(0,-0.15,1.45\\right)","hidden":true},{"type":"expression","id":"153","folderId":"131","color":"#c74440","latex":"c_{81}=\\operatorname{hsv}\\left(90,0.8,0.65\\right)"},{"type":"expression","id":"84","folderId":"131","color":"#388c46","latex":"\\operatorname{triangle}\\left(P_{81}\\left[I_{8}.x\\right],P_{81}\\left[I_{8}.y\\right],P_{81}\\left[I_{8}.z\\right]\\right)","colorLatex":"c_{81}"},{"type":"text","id":"145","folderId":"131","text":"Cube, second from the right (orange)"},{"type":"expression","id":"111","folderId":"131","color":"#aaaaaa","latex":"P_{62}=0.9R_{otate}\\left(P_{6},0.25\\pi,-0.2\\pi\\right)+\\left(-0.4,0.75,1.35\\right)","hidden":true},{"type":"expression","id":"112","folderId":"131","color":"#fa7e19","latex":"\\operatorname{triangle}\\left(P_{62}\\left[I_{6}.x\\right],P_{62}\\left[I_{6}.y\\right],P_{62}\\left[I_{6}.z\\right]\\right)"},{"type":"text","id":"147","folderId":"131","text":"Right octahedron (yellow)"},{"type":"expression","id":"148","folderId":"131","color":"#c74440","latex":"P_{82}=0.55R_{otate}\\left(P_{8},0.2\\pi,0.6\\pi\\pi\\right)+\\left(0,1.5,0.8\\right)","hidden":true},{"type":"expression","id":"151","folderId":"131","color":"#6042a6","latex":"c_{82}=\\operatorname{hsv}\\left(50,0.6,0.8\\right)"},{"type":"expression","id":"149","folderId":"131","color":"#aaaaaa","latex":"\\operatorname{triangle}\\left(P_{82}\\left[I_{8}.x\\right],P_{82}\\left[I_{8}.y\\right],P_{82}\\left[I_{8}.z\\right]\\right)","colorLatex":"c_{82}"},{"type":"folder","id":"118","title":"Flowers","collapsed":true},{"type":"text","id":"479","folderId":"118","text":"Each flower is a family of parametric curves with different colors."},{"type":"text","id":"481","folderId":"118","text":"Parameter for curve family, 7 numbers uniformly from 0 to 1 for 7 layers of petals"},{"type":"expression","id":"123","folderId":"118","color":"#c74440","latex":"v_{flower}=\\frac{\\left[0,1...6\\right]}{6}"},{"type":"text","id":"483","folderId":"118","text":"Size of flower along with curve parameter\n- sin(2.5t)\u00b2: 5 petals, non-negative size\n- |2/\u03c0 asin(sin(2.5t))|: triangle wave between 0 and 1\n- 0.8+0.3(...)\u00b3: create sharp tip of petals\n- (v+0.5)(1.5-v): larger when family parameter is closer to 0.5"},{"type":"expression","id":"122","folderId":"118","color":"#aaaaaa","latex":"s_{flower}\\left(t\\right)=\\sin\\left(2.5t\\right)^{2}\\cdot\\left(0.8+0.3\\left|\\frac{2}{\\pi}\\arcsin\\left(\\sin\\left(2.5t\\right)\\right)\\right|^{3}\\right)\\left(\\left(v_{flower}+0.5\\right)\\left(1.5-v_{flower}\\right)\\right)"},{"type":"text","id":"487","folderId":"118","text":"Parametric equation of the flower\n- |sin(2.5t)| - v s(t): height of the flower, fall back for back petals\n- t - \u03c0 v: rotate each petal layer to break patterns"},{"type":"expression","id":"119","folderId":"118","color":"#2d70b3","latex":"p_{flower}=\\left(s_{flower}\\left(t\\right)\\cos\\left(t-\\pi v_{flower}\\right),s_{flower}\\left(t\\right)\\sin\\left(t-\\pi v_{flower}\\right),\\left|\\sin\\left(2.5t\\right)\\right|-v_{flower}s_{flower}\\left(t\\right)\\right)","hidden":true,"parametricDomain":{"min":"","max":"2\\pi"},"domain":{"min":"0","max":"2\\pi"}},{"type":"text","id":"489","folderId":"118","text":"First flower: blue to purple"},{"type":"expression","id":"125","folderId":"118","color":"#388c46","latex":"0.65R_{otate}\\left(p_{flower},0.3\\pi,0.6\\pi\\right)+\\left(0.2,0.7,0.9\\right)","parametricDomain":{"min":"","max":"2\\pi"},"colorLatex":"c_{flower1}","lineWidth":"1.5","domain":{"min":"0","max":"2\\pi"}},{"type":"expression","id":"124","folderId":"118","color":"#2d70b3","latex":"c_{flower1}=\\operatorname{hsv}\\left(-140+140v_{flower},0.6+0.2v_{flower},1-0.5v_{flower}\\right)"},{"type":"text","id":"493","folderId":"118","text":"Second flower: orange to green"},{"type":"expression","id":"126","folderId":"118","color":"#aaaaaa","latex":"0.65R_{otate}\\left(p_{flower},0.3\\pi,-0.05\\pi\\right)+\\left(-0.05,-1.8,1.0\\right)","parametricDomain":{"min":"","max":"2\\pi"},"colorLatex":"c_{flower2}","lineWidth":"1.2","domain":{"min":"0","max":"2\\pi"}},{"type":"expression","id":"127","folderId":"118","color":"#aaaaaa","latex":"c_{flower2}=\\operatorname{hsv}\\left(30+60v_{flower},0.8-0.3v_{flower},0.9-0.4v_{flower}\\right)"},{"type":"folder","id":"dsm-metadata-folder","title":"DesModder Metadata","secret":true},{"type":"text","id":"dsm-metadata","folderId":"dsm-metadata-folder","text":"{\"version\":2,\"expressions\":{\"6\":{\"errorHidden\":true},\"119\":{\"errorHidden\":true}}}"}]}}}
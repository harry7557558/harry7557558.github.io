{"hash": "otaly31kry", "parent_hash": null, "thumbUrl": "https://saved-work.desmos.com/calc_thumbs/production/otaly31kry.png", "stateUrl": "https://saved-work.desmos.com/calc-states/production/otaly31kry", "title": "Henyey-Greenstein importance sampling", "access": "link", "created": "Sun, 03 Oct 2021 18:31:27 GMT", "state": {"version": 9, "randomSeed": "feb96eabeafe8ce9b44b57443ad49d54", "graph": {"viewport": {"xmin": -2.281282484203207, "ymin": -1.4059833880996246, "xmax": 2.806717438371478, "ymax": 1.6403684561524983}, "showGrid": false, "showXAxis": false, "showYAxis": false}, "expressions": {"list": [{"type": "expression", "id": "1", "color": "#c74440", "latex": "r_{x}=0.36", "slider": {"hardMin": true, "hardMax": true, "playDirection": -1, "min": "0", "max": "\\frac{\\pi}{2}", "step": "0.001"}}, {"type": "expression", "id": "3", "color": "#388c46", "latex": "r_{z}=1.93", "slider": {"hardMin": true, "hardMax": true, "loopMode": "LOOP_FORWARD", "min": "0", "max": "2\\pi", "step": "0.001"}}, {"type": "text", "id": "390", "text": "Incoming light direction: (0, 0, 1)"}, {"type": "folder", "id": "358", "title": "Phase function"}, {"type": "expression", "id": "391", "folderId": "358", "color": "#2d70b3", "latex": "p\\left(\\theta\\right)=\\frac{1}{4\\pi}\\cdot\\frac{\\left(1-g^{2}\\right)}{\\left(1+g^{2}-2g\\cos\\theta\\right)^{\\frac{3}{2}}}", "hidden": true}, {"type": "expression", "id": "392", "folderId": "358", "color": "#388c46", "latex": "g=0.7", "hidden": true, "slider": {"hardMin": true, "hardMax": true, "min": "-0.999", "max": "0.999"}}, {"type": "expression", "id": "311", "folderId": "358", "color": "#c74440", "latex": "P\\left(\\phi_{o},\\theta_{o}\\right)=p\\left(\\theta_{o}\\right)"}, {"type": "expression", "id": "323", "folderId": "358", "color": "#c74440", "latex": "\\int_{0}^{2\\pi}\\int_{0}^{\\pi}P\\left(u,v\\right)\\sin\\left(v\\right)dvdu"}, {"type": "folder", "id": "394", "title": "Importance sampling"}, {"type": "expression", "id": "400", "folderId": "394", "color": "#000000", "latex": "\\sin\\left(\\pi x\\right)\\sin\\left(\\pi y\\right)=0", "lineStyle": "DASHED", "lineOpacity": "0.1"}, {"type": "text", "id": "397", "folderId": "394", "text": "f(u) = cos(\u03b8), -1<=u<=1"}, {"type": "expression", "id": "395", "folderId": "394", "color": "#000000", "latex": "f\\left(u\\right)=\\frac{1}{2}\\frac{\\left(1-g^{2}\\right)}{\\left(1+g^{2}-2gu\\right)^{\\frac{3}{2}}}\\left\\{-1\\le u\\le1\\right\\}"}, {"type": "expression", "id": "398", "folderId": "394", "color": "#000000", "latex": "F\\left(u\\right)=\\frac{1}{2}\\frac{\\left(1-g^{2}\\right)}{g\\sqrt{1+g^{2}-2gu}}-\\frac{1-g}{2g}\\left\\{-1\\le u\\le1\\right\\}"}, {"type": "expression", "id": "401", "folderId": "394", "color": "#000000", "latex": "F_{inv}\\left(x\\right)=\\frac{1}{2g}\\left(1+g^{2}-\\left(\\frac{\\left(1-g^{2}\\right)}{2g\\left(x+\\frac{1-g}{2g}\\right)}\\right)^{2}\\right)\\left\\{0\\le x\\le1\\right\\}"}, {"type": "expression", "id": "406", "folderId": "394", "color": "#000000", "latex": "N=1000", "slider": {"hardMin": true, "hardMax": true, "min": "1", "max": "1000", "step": "1"}}, {"type": "expression", "id": "402", "folderId": "394", "color": "#c74440", "latex": "u_{s}=F_{inv}\\left(\\operatorname{random}\\left(N\\right)\\right)"}, {"type": "expression", "id": "404", "folderId": "394", "color": "#388c46", "latex": "\\theta_{s}=\\arccos\\left(u_{s}\\right)"}, {"type": "expression", "id": "405", "folderId": "394", "color": "#6042a6", "latex": "\\phi_{s}=2\\pi\\operatorname{random}\\left(N\\right)"}, {"type": "expression", "id": "410", "folderId": "394", "color": "#6042a6", "latex": "\\left(X_{s}\\left(\\cos\\left(\\phi_{s}\\right)\\sin\\left(\\theta_{s}\\right),\\sin\\left(\\phi_{s}\\right)\\sin\\left(\\theta_{s}\\right),\\cos\\left(\\theta_{s}\\right)\\right),Y_{s}\\left(\\cos\\left(\\phi_{s}\\right)\\sin\\left(\\theta_{s}\\right),\\sin\\left(\\phi_{s}\\right)\\sin\\left(\\theta_{s}\\right),\\cos\\left(\\theta_{s}\\right)\\right)\\right)"}, {"type": "folder", "id": "81", "title": "Graphing", "collapsed": true}, {"type": "text", "id": "332", "folderId": "81", "text": "Projection"}, {"type": "expression", "id": "6", "folderId": "81", "color": "#c74440", "latex": "A_{1}=\\left[-\\sin\\left(r_{z}\\right),\\cos\\left(r_{z}\\right),0\\right]"}, {"type": "expression", "id": "13", "folderId": "81", "color": "#2d70b3", "latex": "A_{2}=\\left[-\\cos\\left(r_{z}\\right)\\sin\\left(r_{x}\\right),-\\sin\\left(r_{z}\\right)\\sin\\left(r_{x}\\right),\\cos\\left(r_{x}\\right)\\right]"}, {"type": "expression", "id": "321", "folderId": "81", "color": "#6042a6", "latex": "X_{s}\\left(x,y,z\\right)=A_{1}\\left[1\\right]x+A_{1}\\left[2\\right]y+A_{1}\\left[3\\right]z"}, {"type": "expression", "id": "322", "folderId": "81", "color": "#000000", "latex": "Y_{s}\\left(x,y,z\\right)=A_{2}\\left[1\\right]x+A_{2}\\left[2\\right]y+A_{2}\\left[3\\right]z"}, {"type": "text", "id": "334", "folderId": "81", "text": "Axes"}, {"type": "expression", "id": "325", "folderId": "81", "color": "#388c46", "latex": "c_{rgb}=\\left[\\operatorname{rgb}\\left(255,0,0\\right),\\operatorname{rgb}\\left(0,128,0\\right),\\operatorname{rgb}\\left(0,0,255\\right)\\right]"}, {"type": "expression", "id": "326", "folderId": "81", "color": "#6042a6", "latex": "\\left(A_{1}t,\\ A_{2}t\\right)", "parametricDomain": {"min": "-0.5", "max": "0.5"}, "colorLatex": "c_{rgb}", "domain": {"min": "-0.5", "max": "0.5"}}, {"type": "text", "id": "336", "folderId": "81", "text": "Parametric surface"}, {"type": "expression", "id": "83", "folderId": "81", "color": "#388c46", "latex": "X\\left(u,v\\right)=P\\left(u,v\\right)\\cos\\left(u\\right)\\sin\\left(v\\right)"}, {"type": "expression", "id": "85", "folderId": "81", "color": "#6042a6", "latex": "Y\\left(u,v\\right)=P\\left(u,v\\right)\\sin\\left(u\\right)\\sin\\left(v\\right)"}, {"type": "expression", "id": "86", "folderId": "81", "color": "#000000", "latex": "Z\\left(u,v\\right)=P\\left(u,v\\right)\\cos\\left(v\\right)"}, {"type": "expression", "id": "87", "folderId": "81", "color": "#c74440", "latex": "u_{N}=24", "slider": {"hardMin": true, "hardMax": true, "min": "8", "max": "40", "step": "1"}}, {"type": "expression", "id": "88", "folderId": "81", "color": "#2d70b3", "latex": "v_{N}=24", "slider": {"hardMin": true, "hardMax": true, "min": "8", "max": "40", "step": "1"}}, {"type": "expression", "id": "306", "folderId": "81", "color": "#c74440", "latex": "U=\\frac{2\\pi}{u_{N}}\\cdot\\left[0,1,2...u_{N}\\right]"}, {"type": "expression", "id": "307", "folderId": "81", "color": "#2d70b3", "latex": "V=\\frac{\\pi}{v_{N}}\\cdot\\left[0,1,2...v_{N}\\right]"}, {"type": "expression", "id": "308", "folderId": "81", "color": "#fa7e19", "latex": "\\left(X_{s}\\left(X\\left(U,t\\right),Y\\left(U,t\\right),Z\\left(U,t\\right)\\right),\\ Y_{s}\\left(X\\left(U,t\\right),Y\\left(U,t\\right),Z\\left(U,t\\right)\\right)\\right)", "parametricDomain": {"min": "0", "max": "\\pi"}, "domain": {"min": "0", "max": "\\pi"}}, {"type": "expression", "id": "309", "folderId": "81", "color": "#fa7e19", "latex": "\\left(X_{s}\\left(X\\left(t,V\\right),Y\\left(t,V\\right),Z\\left(t,V\\right)\\right),\\ Y_{s}\\left(X\\left(t,V\\right),Y\\left(t,V\\right),Z\\left(t,V\\right)\\right)\\right)", "parametricDomain": {"min": "0", "max": "2\\pi"}, "domain": {"min": "0", "max": "2\\pi"}}, {"type": "text", "id": "338", "folderId": "81", "text": "Show energy conservation boundary"}, {"type": "expression", "id": "310", "folderId": "81", "color": "#fa7e19", "latex": "x^{2}+y^{2}=\\frac{1}{16\\pi^{2}}", "lineStyle": "DASHED", "lineOpacity": "0.3"}]}}}
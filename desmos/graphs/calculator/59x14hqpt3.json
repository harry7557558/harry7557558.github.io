{"hash":"59x14hqpt3","parent_hash":"bwdq4sd4fy","thumbUrl":"https://www.desmos.com/calc_thumbs/production/59x14hqpt3.png","stateUrl":"https://www.desmos.com/calc-states/production/59x14hqpt3","title":"2D Metaballs - Coronavirus","access":"link","created":"Mon, 06 Apr 2020 00:25:06 GMT","state":{"version":7,"graph":{"viewport":{"xmin":-6.113152726682129,"ymin":-3.303105020831459,"xmax":6.502661457862796,"ymax":4.171846977924634},"showGrid":false,"showXAxis":false,"showYAxis":false},"randomSeed":"910202171833582ca1910cfebc7e81e1","expressions":{"list":[{"type":"text","id":"405","text":"Stay Home, Save Lives: Help Stop Coronavirus!"},{"type":"text","id":"411","text":"(use the following slider to animate)"},{"type":"expression","id":"365","color":"#c74440","latex":"t=6.4","slider":{"animationPeriod":200,"min":"-10.05","max":"373.8","step":"0.05","newLoopMode":"PLAY_INDEFINITELY"}},{"type":"folder","id":"317","title":"small useful functions","collapsed":true},{"type":"text","id":"320","folderId":"317","text":"clamp a real number in [0,1]"},{"type":"expression","id":"265","folderId":"317","color":"#000000","latex":"c_{p}\\left(x\\right)=\\min\\left(\\max\\left(x,0\\right),1\\right)","hidden":true},{"type":"text","id":"322","folderId":"317","text":"distance to origin, known as \"hypot\" in some programming languages"},{"type":"expression","id":"266","folderId":"317","color":"#2d70b3","latex":"h_{p}\\left(x,y\\right)=\\sqrt{x^{2}+y^{2}}"},{"type":"text","id":"324","folderId":"317","text":"linear interpolation (\"lerp\" or \"mix\")"},{"type":"expression","id":"288","folderId":"317","color":"#388c46","latex":"l_{p}\\left(x,y,r_{atio}\\right)=\\left(1-r_{atio}\\right)x+r_{atio}y"},{"type":"text","id":"327","folderId":"317","text":"known as \"smoothstep\", useful in interpolation: lerp(a,b,smoothstep(x))"},{"type":"expression","id":"325","folderId":"317","color":"#000000","latex":"s_{s}\\left(x\\right)=\\left(\\left(6x-15\\right)x+10\\right)x^{3}","hidden":true},{"type":"text","id":"334","folderId":"317","text":"known as \"atan2\", get polar angle from cartesian coordinate"},{"type":"expression","id":"331","folderId":"317","color":"#000000","latex":"a_{t2}\\left(y,x\\right)=\\arctan\\left(\\frac{y}{x}\\right)+\\left\\{x>0:\\ 0,\\ \\pi\\cdot\\operatorname{sign}\\left(y\\right)\\right\\}"},{"type":"folder","id":"263","title":"Metaball Primitives and Operations","hidden":true,"collapsed":true},{"type":"expression","id":"1","folderId":"263","color":"#c74440","latex":"d_{circ}\\left(x,y,r_{0}\\right)=\\sqrt{x^{2}+y^{2}}-r_{0}"},{"type":"expression","id":"264","folderId":"263","color":"#000000","latex":"d_{line}\\left(x,y,x_{1},y_{1},x_{2},y_{2}\\right)=h_{p}\\left(\\left(x-x_{1}\\right)-c_{p}\\left(\\frac{\\left(x-x_{1}\\right)\\left(x_{2}-x_{1}\\right)+\\left(y-y_{1}\\right)\\left(y_{2}-y_{1}\\right)}{\\left(x_{2}-x_{1}\\right)^{2}+\\left(y_{2}-y_{1}\\right)^{2}}\\right)\\left(x_{2}-x_{1}\\right),\\left(y-y_{1}\\right)-c_{p}\\left(\\frac{\\left(x-x_{1}\\right)\\left(x_{2}-x_{1}\\right)+\\left(y-y_{1}\\right)\\left(y_{2}-y_{1}\\right)}{\\left(x_{2}-x_{1}\\right)^{2}+\\left(y_{2}-y_{1}\\right)^{2}}\\right)\\left(y_{2}-y_{1}\\right)\\right)"},{"type":"expression","id":"276","folderId":"263","color":"#c74440","latex":"d_{box}\\left(x,y,x_{r},y_{r}\\right)=h_{p}\\left(\\max\\left(\\left|x\\right|-x_{r},0\\right),\\max\\left(\\left|y\\right|-y_{r},0\\right)\\right)+\\min\\left(\\max\\left(\\left|x\\right|-x_{r},\\left|y\\right|-y_{r}\\right),0\\right)"},{"type":"expression","id":"278","folderId":"263","color":"#388c46","latex":"d_{boxb}\\left(x,y,x_{r},y_{r}\\right)=\\max\\left(\\left|x\\right|-x_{r},\\left|y\\right|-y_{r}\\right)"},{"type":"expression","id":"298","folderId":"263","color":"#6042a6","latex":"d_{trigu}\\left(x,y,x_{1},y_{1},x_{2},y_{2},x_{3},y_{3}\\right)=\\min\\left(d_{line}\\left(x,y,x_{1},y_{1},x_{2},y_{2}\\right),d_{line}\\left(x,y,x_{2},y_{2},x_{3},y_{3}\\right),d_{line}\\left(x,y,x_{3},y_{3},x_{1},y_{1}\\right)\\right)"},{"type":"expression","id":"304","folderId":"263","color":"#6042a6","latex":"d_{trig}\\left(x,y,x_{1},y_{1},x_{2},y_{2},x_{3},y_{3}\\right)=d_{trigu}\\left(x,y,x_{1},y_{1},x_{2},y_{2},x_{3},y_{3}\\right)\\cdot\\operatorname{sign}\\left(2.5-\\operatorname{abs}\\left(\\operatorname{sign}\\left(\\left(x_{1}-x\\right)\\left(y_{2}-y\\right)-\\left(x_{2}-x\\right)\\left(y_{1}-y\\right)\\right)+\\operatorname{sign}\\left(\\left(x_{2}-x\\right)\\left(y_{3}-y\\right)-\\left(x_{3}-x\\right)\\left(y_{2}-y\\right)\\right)+\\operatorname{sign}\\left(\\left(x_{3}-x\\right)\\left(y_{1}-y\\right)-\\left(x_{1}-x\\right)\\left(y_{3}-y\\right)\\right)\\right)\\right)"},{"type":"text","id":"292","folderId":"263","text":"Union: min(a,b); Intersect: max(a,b); Subtraction: max(a,-b)"},{"type":"expression","id":"281","folderId":"263","color":"#c74440","latex":"s_{min}\\left(x,y,r_{adius}\\right)=\\left\\{\\left|x-y\\right|>r_{adius}:\\ \\min\\left(x,y\\right),\\ \\frac{1}{2}\\left(-\\frac{\\left(x-y\\right)^{2}}{2r_{adius}}+x+y-\\frac{1}{2}r_{adius}\\right)\\right\\}"},{"type":"expression","id":"293","folderId":"263","color":"#c74440","latex":"s_{max}\\left(x,y,r_{adius}\\right)=\\left\\{\\left|x-y\\right|>r_{adius}:\\ \\max\\left(x,y\\right),\\ \\frac{1}{2}\\left(\\frac{\\left(x-y\\right)^{2}}{2r_{adius}}+x+y+\\frac{1}{2}r_{adius}\\right)\\right\\}"},{"type":"expression","id":"294","folderId":"263","color":"#2d70b3","latex":"s_{sub}\\left(x,y,r_{adius}\\right)=\\left\\{\\left|x+y\\right|>r_{adius}:\\ \\max\\left(x,-y\\right),\\ \\frac{1}{2}\\left(\\frac{\\left(x+y\\right)^{2}}{2r_{adius}}+x-y+\\frac{1}{2}r_{adius}\\right)\\right\\}"},{"type":"folder","id":"379","title":"Virus Modeling","hidden":true,"collapsed":true},{"type":"expression","id":"354","folderId":"379","color":"#c74440","latex":"R=0.74","slider":{"hardMin":true,"hardMax":true,"min":"0","max":"2","step":"0.01"}},{"type":"expression","id":"363","folderId":"379","color":"#6042a6","latex":"r=0.25","hidden":true,"slider":{"hardMin":true,"hardMax":true,"min":"0","max":"1","step":"0.01"}},{"type":"expression","id":"362","folderId":"379","color":"#388c46","latex":"n=8","slider":{"hardMin":true,"hardMax":true,"min":"2","max":"12","step":"1"}},{"type":"expression","id":"367","folderId":"379","color":"#388c46","latex":"d_{f}=0.058","slider":{"hardMin":true,"hardMax":true,"min":"0","max":"0.2","step":"0.001"}},{"type":"expression","id":"370","folderId":"379","color":"#c74440","latex":"f_{f}=14.4","slider":{"hardMin":true,"hardMax":true,"min":"4","max":"20","step":"0.1"}},{"type":"expression","id":"368","folderId":"379","color":"#6042a6","latex":"r_{c}=1.06","slider":{"hardMin":true,"hardMax":true,"min":"0.5","max":"3","step":"0.01"}},{"type":"expression","id":"361","folderId":"379","color":"#2d70b3","latex":"u\\left(x,y\\right)=d_{circ}\\left(r_{c}\\left(x+d_{f}\\cos\\left(f_{f}y\\right)-\\left(R+r\\right)\\right),y,r\\right)"},{"type":"expression","id":"372","folderId":"379","color":"#388c46","latex":"s_{m}=0.156","slider":{"hardMin":true,"hardMax":true,"min":"0","max":"0.5","step":"0.001"}},{"type":"expression","id":"366","folderId":"379","color":"#2d70b3","latex":"V\\left(x,y,t_{d}\\right)=s_{min}\\left(u\\left(h_{p}\\left(x,y\\right)\\cos\\left(\\left|\\operatorname{mod}\\left(a_{t2}\\left(y,x\\right)-t_{d},\\frac{2\\pi}{n}\\right)\\right|-\\frac{\\pi}{n}\\right),h_{p}\\left(x,y\\right)\\sin\\left(\\left|\\operatorname{mod}\\left(a_{t2}\\left(y,x\\right)-t_{d},\\frac{2\\pi}{n}\\right)\\right|-\\frac{\\pi}{n}\\right)\\right),d_{circ}\\left(x,y,R+0\\right),s_{m}\\right)"},{"type":"folder","id":"396","title":"Virus Crowd","collapsed":true},{"type":"expression","id":"373","folderId":"396","color":"#6042a6","latex":"P_{1}=\\left(-0.82,-0.35\\right)"},{"type":"expression","id":"369","folderId":"396","color":"#000000","latex":"v_{1}=-0.5","slider":{"hardMin":true,"hardMax":true,"min":"-1","max":"1","step":"\\frac{1}{n}"}},{"type":"expression","id":"374","folderId":"396","color":"#000000","latex":"s_{1}=0.85","slider":{"hardMin":true,"hardMax":true,"min":"0.2","max":"1","step":"0.01"}},{"type":"expression","id":"375","folderId":"396","color":"#c74440","latex":"m_{1}=0.095","slider":{"hardMin":true,"hardMax":true,"min":"0","max":"0.5","step":"0.001"}},{"type":"expression","id":"376","folderId":"396","color":"#2d70b3","latex":"f_{1}=3","slider":{"hardMin":true,"hardMax":true,"min":"0","max":"5","step":"1"}},{"type":"expression","id":"380","folderId":"396","color":"#6042a6","latex":"P_{2}=\\left(0.81,0.54\\right)"},{"type":"expression","id":"381","folderId":"396","color":"#000000","latex":"t_{o}=2.56","slider":{"hardMin":true,"hardMax":true,"min":"0","max":"2\\pi","step":"0.001"}},{"type":"expression","id":"382","folderId":"396","color":"#c74440","latex":"v_{2}=0.625","slider":{"hardMin":true,"hardMax":true,"min":"-1","max":"1","step":"\\frac{1}{n}"}},{"type":"expression","id":"383","folderId":"396","color":"#2d70b3","latex":"s_{2}=0.58","slider":{"hardMin":true,"hardMax":true,"min":"0.2","max":"1","step":"0.01"}},{"type":"expression","id":"384","folderId":"396","color":"#388c46","latex":"m_{2}=0.044","slider":{"hardMin":true,"hardMax":true,"min":"0","max":"0.5","step":"0.001"}},{"type":"expression","id":"385","folderId":"396","color":"#6042a6","latex":"f_{2}=4","slider":{"hardMin":true,"hardMax":true,"min":"0","max":"5","step":"1"}},{"type":"expression","id":"386","folderId":"396","color":"#c74440","latex":"V_{s}\\left(x,y\\right)=\\min\\left(V\\left(\\frac{1}{s_{1}}\\left(x-P_{1}.x\\right),\\frac{1}{s_{1}}\\left(y-P_{1}.y+m_{1}\\sin\\left(f_{1}t\\right)\\right),v_{1}t\\right),V\\left(\\frac{1}{s_{2}}\\left(x-P_{2}.x\\right),\\frac{1}{s_{2}}\\left(y-P_{2}.y+m_{2}\\sin\\left(f_{2}\\left(t+t_{o}\\right)\\right)\\right),v_{2}\\left(t+t_{o}\\right)\\right)\\right)"},{"type":"folder","id":"406","title":"Liquid","collapsed":true},{"type":"expression","id":"388","folderId":"406","color":"#2d70b3","latex":"w_{f}=6.77","slider":{"hardMin":true,"hardMax":true,"min":"0","step":"0.01"}},{"type":"expression","id":"389","folderId":"406","color":"#388c46","latex":"w_{m}=0.14","slider":{"hardMin":true,"hardMax":true,"min":"0","max":"1","step":"0.01"}},{"type":"expression","id":"390","folderId":"406","color":"#6042a6","latex":"w_{v}=5","slider":{"hardMin":true,"hardMax":true,"min":"-5","max":"5","step":"0.01"}},{"type":"expression","id":"402","folderId":"406","color":"#000000","latex":"w_{hf}=0.15","slider":{"hardMin":true,"hardMax":true,"min":"0","max":"1","step":"0.01"}},{"type":"expression","id":"393","folderId":"406","color":"#2d70b3","latex":"w_{hfs}\\left(x\\right)=\\left\\{x<0.5:0,x<1.5:s_{s}\\left(x-0.5\\right),x<2:1,1-s_{s}\\left(x-2\\right)\\right\\}","hidden":true},{"type":"expression","id":"391","folderId":"406","color":"#000000","latex":"w_{h}=4w_{hfs}\\left(\\operatorname{mod}\\left(w_{hf}t,3\\right)\\right)-2.5","slider":{"hardMin":true,"hardMax":true,"min":"-3","max":"1","step":"0.01"}},{"type":"expression","id":"387","folderId":"406","color":"#c74440","latex":"W\\left(x\\right)=w_{m}\\exp\\left(\\sin\\left(w_{f}x+w_{v}t\\right)\\right)+w_{h}","hidden":true},{"type":"expression","id":"350","color":"#000000","latex":"\\max\\left(\\left|x\\right|-3,\\left|y\\right|-2\\right)=0"},{"type":"expression","id":"407","color":"#000000","latex":"\\min\\left(y+2,\\min\\left(3,7-2y\\right)-\\operatorname{abs}\\left(x\\right)\\right)=0"},{"type":"expression","id":"403","color":"#c74440","latex":"s_{min}\\left(V_{s}\\left(x,y\\right),y-W\\left(x\\right),0.1\\right)=0\\left\\{\\max\\left(\\left|x\\right|-3,\\left|y\\right|-2\\right)<0\\right\\}"}]}}}
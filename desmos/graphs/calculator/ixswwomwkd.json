{"hash":"ixswwomwkd","parent_hash":"hzi7zmukl7","thumbUrl":"https://www.desmos.com/calc_thumbs/production/ixswwomwkd.png","stateUrl":"https://www.desmos.com/calc-states/production/ixswwomwkd","title":"Bessel Function Approximation","access":"link","created":"2024-06-12T21:37:37.410Z","state":{"version":11,"randomSeed":"cf3f807082721404f1a3f4623c6ee7ab","graph":{"viewport":{"xmin":-2.207617399332923,"ymin":-1.2393537350796004,"xmax":13.485681292013636,"ymax":1.5134657978238255},"xAxisArrowMode":"BOTH","yAxisArrowMode":"BOTH","squareAxes":false},"expressions":{"list":[{"type":"text","id":"102","text":"Approximate first few Bessel functions of the first kind, intended for fast inference\n\nBlue: ground truth (series expansion)\nBlack: approximation\n\nIntended to be used here: https://github.com/harry7557558/spirulae-splat"},{"type":"expression","id":"7","color":"#c74440","latex":"J\\left(a,x\\right)=\\sum_{m=0}^{100}\\frac{\\left(-1\\right)^{m}}{m!\\left(m+a\\right)!}\\left(\\frac{x}{2}\\right)^{\\left(2m+a\\right)}","parametricDomain":{"min":"0","max":"1"},"domain":{"min":"0","max":"1"}},{"type":"expression","id":"26","color":"#388c46","latex":"J_{asymp}\\left(a,x\\right)=\\sqrt{\\frac{2}{\\pi x}}\\cos\\left(x-\\frac{a\\pi}{2}-\\frac{\\pi}{4}\\right)","hidden":true},{"type":"folder","id":"37","title":"J_0"},{"type":"expression","id":"27","folderId":"37","color":"#2d70b3","latex":"J_{0}\\left(x\\right)=J\\left(0,x\\right)"},{"type":"expression","id":"29","folderId":"37","color":"#c74440","latex":"X_{0}=30\\cdot\\left(\\frac{\\left[1...2000\\right]}{2000}\\right)^{2}"},{"type":"expression","id":"30","folderId":"37","color":"#2d70b3","latex":"Y_{0}=J_{0}\\left(X_{0}\\right)"},{"type":"expression","id":"103","folderId":"37","color":"#c74440","latex":"P_{00}\\left(x\\right)=\\frac{1+A_{01}x+A_{02}x^{2}+A_{03}x^{3}+A_{04}x^{4}}{1+B_{01}x+B_{02}x^{2}+B_{03}x^{3}+B_{04}x^{4}}","hidden":true},{"type":"expression","id":"104","folderId":"37","color":"#2d70b3","latex":"P_{01}\\left(x\\right)=\\sqrt{\\frac{1}{\\pi x}}\\left(\\left(1+\\frac{C_{01}}{x}+\\frac{C_{02}}{x^{2}}\\right)\\cos\\left(x\\right)+\\left(1+\\frac{D_{01}}{x}+\\frac{D_{02}}{x^{2}}\\right)\\sin\\left(x\\right)\\right)","hidden":true},{"type":"expression","id":"105","folderId":"37","color":"#000000","latex":"P_{0}\\left(x\\right)=\\left\\{x<4.2:P_{00}\\left(x\\right),P_{01}\\left(x\\right)\\right\\}"},{"type":"expression","id":"31","folderId":"37","color":"#388c46","latex":"P_{0}\\left(X_{0}\\right)\\sim Y_{0}","residualVariable":"e_{02}","regressionParameters":{"A_{01}":-0.2233414155083547,"A_{02}":-0.1805451461316933,"A_{03}":0.04765581949214654,"A_{04}":-0.0024383224605644114,"B_{01}":-0.2234104067240744,"B_{02}":0.06997488447829185,"B_{03}":-0.009545108494228093,"B_{04}":0.0011020589286710896,"C_{01}":-0.12645425310258693,"C_{02}":-0.04701102739882661,"D_{01}":0.1254810157979836,"D_{02}":-0.08185378851834282}},{"type":"expression","id":"126","folderId":"37","color":"#2d70b3","latex":"0.1\\log\\left(\\left|P_{0}\\left(x\\right)-J_{0}\\left(x\\right)\\right|\\right)","hidden":true},{"type":"folder","id":"40","title":"J_1"},{"type":"expression","id":"41","folderId":"40","color":"#2d70b3","latex":"J_{1}\\left(x\\right)=J\\left(1,x\\right)"},{"type":"expression","id":"43","folderId":"40","color":"#388c46","latex":"X_{1}=30\\cdot\\left(\\frac{\\left[1...2000\\right]}{2000}\\right)^{2}"},{"type":"expression","id":"44","folderId":"40","color":"#6042a6","latex":"Y_{1}=J_{1}\\left(X_{1}\\right)"},{"type":"expression","id":"107","folderId":"40","color":"#000000","latex":"P_{10}\\left(x\\right)=\\frac{A_{11}x+A_{12}x^{2}+A_{13}x^{3}+A_{14}x^{4}}{1+B_{11}x+B_{12}x^{2}+B_{13}x^{3}+B_{14}x^{4}}","hidden":true},{"type":"expression","id":"156","folderId":"40","color":"#2d70b3","latex":"P_{11}\\left(x\\right)=-\\sqrt{\\frac{1}{\\pi x}}\\left(\\left(1+\\frac{C_{11}}{x}+\\frac{C_{12}}{x^{2}}\\right)\\cos\\left(x\\right)-\\left(1+\\frac{D_{11}}{x}+\\frac{D_{12}}{x^{2}}\\right)\\sin\\left(x\\right)\\right)","hidden":true},{"type":"expression","id":"46","folderId":"40","color":"#000000","latex":"P_{1}\\left(x\\right)=\\left\\{x<4.7:P_{10}\\left(x\\right),P_{11}\\left(x\\right)\\right\\}"},{"type":"expression","id":"47","folderId":"40","color":"#2d70b3","latex":"P_{1}\\left(X_{1}\\right)\\sim Y_{1}","residualVariable":"e_{1}","regressionParameters":{"A_{11}":0.5000532505934574,"A_{12}":-0.07119189008625876,"A_{13}":-0.035165449653103927,"A_{14}":0.005137712441401968,"B_{11}":-0.14169754004287138,"B_{12}":0.05321374041943971,"B_{13}":-0.00607419179386907,"B_{14}":0.0008890431150019003,"C_{11}":-0.3757836447743623,"C_{12}":0.1341790788676786,"D_{11}":0.3771836462098887,"D_{12}":0.0832308527486925}},{"type":"expression","id":"110","folderId":"40","color":"#c74440","latex":"0.1\\log\\left(\\left|P_{1}\\left(x\\right)-J_{1}\\left(x\\right)\\right|\\right)","hidden":true},{"type":"folder","id":"65","title":"J_2"},{"type":"expression","id":"66","folderId":"65","color":"#2d70b3","latex":"J_{2}\\left(x\\right)=J\\left(2,x\\right)"},{"type":"expression","id":"68","folderId":"65","color":"#2d70b3","latex":"X_{2}=30\\cdot\\left(\\frac{\\left[1...2000\\right]}{2000}\\right)^{2}"},{"type":"expression","id":"69","folderId":"65","color":"#388c46","latex":"Y_{2}=J_{2}\\left(X_{2}\\right)"},{"type":"expression","id":"121","folderId":"65","color":"#2d70b3","latex":"P_{20}\\left(x\\right)=\\frac{A_{22}x^{2}+A_{23}x^{3}+A_{24}x^{4}}{1+B_{21}x+B_{22}x^{2}+B_{23}x^{3}+B_{24}x^{4}}","hidden":true},{"type":"expression","id":"122","folderId":"65","color":"#388c46","latex":"P_{21}\\left(x\\right)=-\\sqrt{\\frac{1}{\\pi x}}\\left(\\left(1+\\frac{C_{21}}{x}+\\frac{C_{22}}{x^{2}}+\\frac{C_{23}}{x^{3}}\\right)\\cos\\left(x\\right)+\\left(1+\\frac{D_{21}}{x}+\\frac{D_{22}}{x^{2}}\\right)\\sin\\left(x\\right)\\right)","hidden":true},{"type":"expression","id":"125","folderId":"65","color":"#000000","latex":"P_{2}\\left(x\\right)=\\left\\{x<4:P_{20}\\left(x\\right),P_{21}\\left(x\\right)\\right\\}"},{"type":"expression","id":"73","folderId":"65","color":"#2d70b3","latex":"P_{2}\\left(X_{2}\\right)\\sim Y_{2}","residualVariable":"e_{2}","regressionParameters":{"A_{22}":0.12515704623183996,"A_{23}":-0.029939064720165425,"A_{24}":0.0010672441356451379,"B_{21}":-0.23414231622687032,"B_{22}":0.0832179393165909,"B_{23}":-0.012670220025970225,"B_{24}":0.001576756311149478,"C_{21}":1.8744297562159271,"C_{22}":-0.8104498994899009,"C_{23}":0.3024509786090351,"D_{21}":-1.8712599610298029,"D_{22}":-0.8861763939680245}},{"type":"expression","id":"79","folderId":"65","color":"#388c46","latex":"0.1\\log\\left(\\left|P_{2}\\left(x\\right)-J_{2}\\left(x\\right)\\right|\\right)","hidden":true},{"type":"folder","id":"83","title":"J_3"},{"type":"expression","id":"84","folderId":"83","color":"#2d70b3","latex":"J_{3}\\left(x\\right)=J\\left(3,x\\right)"},{"type":"expression","id":"86","folderId":"83","color":"#6042a6","latex":"X_{3}=30\\cdot\\left(\\frac{\\left[1...2000\\right]}{2000}\\right)^{2}"},{"type":"expression","id":"87","folderId":"83","color":"#000000","latex":"Y_{3}=J_{3}\\left(X_{3}\\right)"},{"type":"expression","id":"135","folderId":"83","color":"#c74440","latex":"P_{30}\\left(x\\right)=\\frac{A_{33}x^{3}+A_{34}x^{4}+A_{35}x^{5}}{1+B_{31}x+B_{32}x^{2}+B_{33}x^{3}+B_{34}x^{4}}","hidden":true},{"type":"expression","id":"136","folderId":"83","color":"#2d70b3","latex":"P_{31}\\left(x\\right)=\\sqrt{\\frac{1}{\\pi x}}\\left(\\left(1+\\frac{C_{31}}{x}+\\frac{C_{32}}{x^{2}}+\\frac{C_{33}}{x^{3}}\\right)\\cos\\left(x\\right)-\\left(1+\\frac{D_{31}}{x}+\\frac{D_{32}}{x^{2}}+\\frac{D_{33}}{x^{3}}\\right)\\sin\\left(x\\right)\\right)","hidden":true},{"type":"expression","id":"89","folderId":"83","color":"#000000","latex":"P_{3}\\left(x\\right)=\\left\\{x<5:P_{30}\\left(x\\right),P_{31}\\left(x\\right)\\right\\}"},{"type":"expression","id":"90","folderId":"83","color":"#388c46","latex":"P_{3}\\left(X_{3}\\right)\\sim Y_{3}","residualVariable":"e_{3}","regressionParameters":{"A_{33}":0.02091081913334961,"A_{34}":-0.0050720943760465655,"A_{35}":0.00028027659389402487,"B_{31}":-0.23306162292715019,"B_{32}":0.06455328873547453,"B_{33}":-0.008312028977703586,"B_{34}":0.000746686151494265,"C_{31}":-4.37676471061462,"C_{32}":-7.327294573315827,"C_{33}":2.8585570137944756,"D_{31}":4.374181470386898,"D_{32}":-7.351279254639505,"D_{33}":-3.7307686927232298}},{"type":"expression","id":"142","folderId":"83","color":"#388c46","latex":"0.1\\log\\left(\\left|P_{3}\\left(x\\right)-J_{3}\\left(x\\right)\\right|\\right)","hidden":true},{"type":"folder","id":"93","title":"J_4"},{"type":"expression","id":"94","folderId":"93","color":"#2d70b3","latex":"J_{4}\\left(x\\right)=J\\left(4,x\\right)"},{"type":"expression","id":"96","folderId":"93","color":"#388c46","latex":"X_{4}=30\\cdot\\left(\\frac{\\left[1...2000\\right]}{2000}\\right)^{2}"},{"type":"expression","id":"97","folderId":"93","color":"#6042a6","latex":"Y_{4}=J_{4}\\left(X_{4}\\right)"},{"type":"expression","id":"160","folderId":"93","color":"#c74440","latex":"P_{40}\\left(x\\right)=\\frac{A_{44}x^{4}+A_{45}x^{5}+A_{46}x^{6}}{1+B_{41}x+B_{42}x^{2}+B_{43}x^{3}+B_{44}x^{4}+B_{45}x^{5}}","hidden":true},{"type":"expression","id":"161","folderId":"93","color":"#2d70b3","latex":"P_{41}\\left(x\\right)=\\sqrt{\\frac{1}{\\pi x}}\\left(\\left(1+\\frac{C_{41}}{x}+\\frac{C_{42}}{x^{2}}+\\frac{C_{43}}{x^{3}}\\right)\\cos\\left(x\\right)+\\left(1+\\frac{D_{41}}{x}+\\frac{D_{42}}{x^{2}}+\\frac{D_{43}}{x^{3}}\\right)\\sin\\left(x\\right)\\right)","hidden":true},{"type":"expression","id":"98","folderId":"93","color":"#000000","latex":"P_{4}\\left(x\\right)=\\left\\{x<8:P_{40}\\left(x\\right),P_{41}\\left(x\\right)\\right\\}"},{"type":"expression","id":"99","folderId":"93","color":"#c74440","latex":"P_{4}\\left(X_{4}\\right)\\sim Y_{4}","residualVariable":"e_{3s2}","regressionParameters":{"A_{44}":0.0026444920606083435,"A_{45}":-0.0006004507528517084,"A_{46}":3.320308950861016e-05,"B_{41}":-0.2029673104397815,"B_{42}":0.04338600070178823,"B_{43}":-0.003526590854010254,"B_{44}":0.00013712907221851225,"B_{45}":1.274699121111055e-05,"C_{41}":7.881821195329348,"C_{42}":-27.37909965684633,"C_{43}":-39.60240596675635,"D_{41}":-7.865125826415641,"D_{42}":-27.486222758095337,"D_{43}":49.32505873829625}},{"type":"expression","id":"100","folderId":"93","color":"#2d70b3","latex":"0.1\\log\\left(\\left|J_{4}\\left(x\\right)-P_{4}\\left(x\\right)\\right|\\right)","hidden":true},{"type":"folder","id":"dsm-metadata-folder","title":"DesModder Metadata","secret":true},{"type":"text","id":"dsm-metadata","folderId":"dsm-metadata-folder","text":"{\"version\":2,\"expressions\":{\"107\":{\"errorHidden\":true},\"121\":{\"errorHidden\":true},\"135\":{\"errorHidden\":true},\"160\":{\"errorHidden\":true}}}"},{"type":"expression","id":"162","color":"#c74440"},{"type":"text","id":"166","text":"Export code (convert to any language using ChatGPT)"},{"type":"text","id":"164","text":"exprs = Calc.getState().expressions.list;\n\nlet strs = [];\nfor (var i = 0; i < exprs.length; i++) {\n    let expr = exprs[i];\n    if (expr.regressionParameters) {\n        let params = expr.regressionParameters;\n        for (var key in params) {\n            let varname = key.replace(/[_\\{\\}]/g, \"\");\n            let val = params[key];\n            strs.push(\"const float \" + varname + \" = \" + val + \"f;\");\n        }\n        strs.push('');\n    }\n    if (!/^P_\\{\\d+\\}\\\\left\\(x/.test(expr.latex))\n        continue;\n    strs.push(expr.latex);\n}\nconsole.log(strs.join('\\n'));"}]},"includeFunctionParametersInRandomSeed":true}}
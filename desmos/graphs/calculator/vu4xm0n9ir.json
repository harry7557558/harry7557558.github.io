{"hash":"vu4xm0n9ir","parent_hash":"nfmk3nqez1","thumbUrl":"https://www.desmos.com/calc_thumbs/production/vu4xm0n9ir.png","stateUrl":"https://www.desmos.com/calc-states/production/vu4xm0n9ir","title":"Torus projection","access":"link","created":"Thu, 10 Sep 2020 17:57:16 GMT","state":{"version":8,"graph":{"viewport":{"xmin":-5.567066867469127,"ymin":-4.132109203982875,"xmax":6.291271665579669,"ymax":3.6400669027340027},"showGrid":false,"showXAxis":false,"showYAxis":false},"randomSeed":"feb96eabeafe8ce9b44b57443ad49d54","expressions":{"list":[{"type":"expression","id":"1","color":"#c74440","latex":"r_{x}=0.62","slider":{"hardMin":true,"hardMax":true,"playDirection":-1,"min":"0","max":"\\frac{\\pi}{2}","step":"0.001"}},{"type":"expression","id":"3","color":"#388c46","latex":"r_{z}=2.46","slider":{"hardMin":true,"hardMax":true,"loopMode":"LOOP_FORWARD","min":"0","max":"2\\pi","step":"0.001"}},{"type":"expression","id":"415","color":"#6042a6","latex":"r_{y}=0.46","slider":{"hardMin":true,"hardMax":true,"min":"0","max":"2\\pi"}},{"type":"expression","id":"412","color":"#c74440","latex":"R=1.64","slider":{"hardMin":true,"hardMax":true,"min":"0","max":"3"}},{"type":"expression","id":"413","color":"#2d70b3","latex":"r=0.83","hidden":true,"slider":{"hardMin":true,"hardMax":true,"min":"0","max":"2"}},{"type":"folder","id":"11","title":"Transformation Matrix","hidden":true,"collapsed":true},{"type":"text","id":"49","folderId":"11","text":"3D transformation matrix (Orthogonal)"},{"type":"expression","id":"6","folderId":"11","color":"#c74440","latex":"A_{11}=-\\cos\\left(r_{y}\\right)\\cdot\\sin\\left(r_{z}\\right)+\\sin\\left(r_{y}\\right)\\cdot\\sin\\left(r_{x}\\right)\\cos\\left(r_{z}\\right)"},{"type":"expression","id":"9","folderId":"11","color":"#6042a6","latex":"A_{12}=\\cos\\left(r_{y}\\right)\\cdot\\cos\\left(r_{z}\\right)+\\sin\\left(r_{y}\\right)\\cdot\\sin\\left(r_{x}\\right)\\sin\\left(r_{z}\\right)"},{"type":"expression","id":"12","folderId":"11","color":"#c74440","latex":"A_{13}=-\\cos\\left(r_{x}\\right)\\cdot\\sin\\left(r_{y}\\right)"},{"type":"expression","id":"13","folderId":"11","color":"#2d70b3","latex":"A_{21}=-\\sin\\left(r_{y}\\right)\\sin\\left(r_{z}\\right)-\\cos\\left(r_{y}\\right)\\sin\\left(r_{x}\\right)\\cos\\left(r_{z}\\right)"},{"type":"expression","id":"14","folderId":"11","color":"#388c46","latex":"A_{22}=\\sin\\left(r_{y}\\right)\\cos\\left(r_{z}\\right)-\\cos\\left(r_{y}\\right)\\sin\\left(r_{x}\\right)\\sin\\left(r_{z}\\right)"},{"type":"expression","id":"16","folderId":"11","color":"#000000","latex":"A_{23}=\\cos\\left(r_{x}\\right)\\cos\\left(r_{y}\\right)"},{"type":"text","id":"51","folderId":"11","text":"Inverse of submatrix (removing the third column)"},{"type":"expression","id":"416","folderId":"11","color":"#000000","latex":"K_{det}=\\frac{1}{A_{11}A_{22}-A_{12}A_{21}}"},{"type":"expression","id":"53","folderId":"11","color":"#c74440","latex":"K_{11}=K_{det}\\cdot A_{22}"},{"type":"expression","id":"55","folderId":"11","color":"#388c46","latex":"K_{12}=-K_{det}\\cdot A_{12}"},{"type":"expression","id":"56","folderId":"11","color":"#6042a6","latex":"K_{21}=-K_{det}\\cdot A_{21}"},{"type":"expression","id":"57","folderId":"11","color":"#000000","latex":"K_{22}=K_{det}\\cdot A_{11}"},{"type":"text","id":"128","folderId":"11","text":"Inverse of submatrix (removing the first column)"},{"type":"expression","id":"417","folderId":"11","color":"#c74440","latex":"I_{det}=\\frac{1}{A_{12}A_{23}-A_{13}A_{22}}"},{"type":"expression","id":"129","folderId":"11","color":"#388c46","latex":"I_{11}=I_{det}\\cdot A_{23}"},{"type":"expression","id":"131","folderId":"11","color":"#000000","latex":"I_{12}=-I_{det}\\cdot A_{13}"},{"type":"expression","id":"132","folderId":"11","color":"#c74440","latex":"I_{21}=-I_{det}\\cdot A_{22}"},{"type":"expression","id":"133","folderId":"11","color":"#2d70b3","latex":"I_{22}=I_{det}\\cdot A_{12}"},{"type":"text","id":"142","folderId":"11","text":"Inverse of submatrix (removing the second column)"},{"type":"expression","id":"418","folderId":"11","color":"#2d70b3","latex":"J_{det}=\\frac{1}{A_{11}A_{23}-A_{13}A_{21}}"},{"type":"expression","id":"143","folderId":"11","color":"#c74440","latex":"J_{11}=J_{det}\\cdot A_{23}"},{"type":"expression","id":"144","folderId":"11","color":"#2d70b3","latex":"J_{12}=-J_{det}\\cdot A_{13}"},{"type":"expression","id":"145","folderId":"11","color":"#388c46","latex":"J_{21}=-J_{det}\\cdot A_{21}"},{"type":"expression","id":"146","folderId":"11","color":"#6042a6","latex":"J_{22}=J_{det}\\cdot A_{11}"},{"type":"text","id":"448","folderId":"11","text":"Projection"},{"type":"expression","id":"446","folderId":"11","color":"#388c46","latex":"V\\left(x,y,z\\right)=A_{21}x+A_{22}y+A_{23}z"},{"type":"expression","id":"445","folderId":"11","color":"#2d70b3","latex":"U\\left(x,y,z\\right)=A_{11}x+A_{12}y+A_{13}z"},{"type":"folder","id":"36","title":"Axis and Grid","collapsed":true},{"type":"expression","id":"61","folderId":"36","color":"#6042a6","latex":"S=5","slider":{"hardMin":true,"hardMax":true,"min":"1","max":"5","step":"0.01"}},{"type":"expression","id":"23","folderId":"36","color":"#c74440","latex":"\\left(t\\cdot A_{11},t\\cdot A_{21}\\right)","parametricDomain":{"min":"-S","max":"S"},"domain":{"min":"-S","max":"S"}},{"type":"expression","id":"24","folderId":"36","color":"#388c46","latex":"\\left(t\\cdot A_{12},t\\cdot A_{22}\\right)","parametricDomain":{"min":"-S","max":"S"},"domain":{"min":"-S","max":"S"}},{"type":"expression","id":"25","folderId":"36","color":"#2d70b3","latex":"\\left(t\\cdot A_{13},t\\cdot A_{23}\\right)","parametricDomain":{"min":"-\\frac{2}{3}S","max":"\\frac{2}{3}S"},"domain":{"min":"-\\frac{2}{3}S","max":"\\frac{2}{3}S"}},{"type":"folder","id":"81","title":"Parametric Surface","collapsed":true},{"type":"expression","id":"83","folderId":"81","color":"#388c46","latex":"X\\left(u,v\\right)=\\cos\\left(u\\right)\\left(R+r\\cos\\left(v\\right)\\right)"},{"type":"expression","id":"85","folderId":"81","color":"#6042a6","latex":"Y\\left(u,v\\right)=\\sin\\left(u\\right)\\left(R+r\\cos\\left(v\\right)\\right)"},{"type":"expression","id":"86","folderId":"81","color":"#000000","latex":"Z\\left(u,v\\right)=r\\sin\\left(v\\right)"},{"type":"expression","id":"89","folderId":"81","color":"#388c46","latex":"u_{1}=2\\pi"},{"type":"expression","id":"87","folderId":"81","color":"#c74440","latex":"D_{u}=20","slider":{"hardMin":true,"hardMax":true,"min":"8","max":"40","step":"1"}},{"type":"expression","id":"90","folderId":"81","color":"#6042a6","latex":"v_{1}=2\\pi"},{"type":"expression","id":"88","folderId":"81","color":"#2d70b3","latex":"D_{v}=20","slider":{"hardMin":true,"hardMax":true,"min":"8","max":"40","step":"1"}},{"type":"expression","id":"91","folderId":"81","color":"#000000","latex":"q_{u}\\left(t\\right)=\\frac{u_{1}}{D_{u}}\\operatorname{floor}\\left(D_{u}t\\right)","hidden":true},{"type":"expression","id":"92","folderId":"81","color":"#fa7e19","latex":"r_{v}\\left(t\\right)=v_{1}\\operatorname{mod}\\left(D_{u}t,1\\right)","hidden":true},{"type":"expression","id":"93","folderId":"81","color":"#000000","latex":"q_{v}\\left(t\\right)=\\frac{v_{1}}{D_{v}}\\operatorname{floor}\\left(D_{v}t\\right)","hidden":true},{"type":"expression","id":"94","folderId":"81","color":"#fa7e19","latex":"r_{u}\\left(t\\right)=u_{1}\\operatorname{mod}\\left(D_{v}t,1\\right)","hidden":true},{"type":"expression","id":"95","folderId":"81","color":"#6042a6","latex":"\\left(U\\left(X\\left(q_{u}\\left(t\\right),r_{v}\\left(t\\right)\\right),Y\\left(q_{u}\\left(t\\right),r_{v}\\left(t\\right)\\right),Z\\left(q_{u}\\left(t\\right),r_{v}\\left(t\\right)\\right)\\right),\\ V\\left(X\\left(q_{u}\\left(t\\right),r_{v}\\left(t\\right)\\right),Y\\left(q_{u}\\left(t\\right),r_{v}\\left(t\\right)\\right),Z\\left(q_{u}\\left(t\\right),r_{v}\\left(t\\right)\\right)\\right)\\right)","parametricDomain":{"min":"0","max":"1"},"domain":{"min":"0","max":"1"}},{"type":"expression","id":"96","folderId":"81","color":"#2d70b3","latex":"\\left(U\\left(X\\left(r_{u}\\left(t\\right),q_{v}\\left(t\\right)\\right),Y\\left(r_{u}\\left(t\\right),q_{v}\\left(t\\right)\\right),Z\\left(r_{u}\\left(t\\right),q_{v}\\left(t\\right)\\right)\\right),\\ V\\left(X\\left(r_{u}\\left(t\\right),q_{v}\\left(t\\right)\\right),Y\\left(r_{u}\\left(t\\right),q_{v}\\left(t\\right)\\right),Z\\left(r_{u}\\left(t\\right),q_{v}\\left(t\\right)\\right)\\right)\\right)","parametricDomain":{"min":"0","max":"1"},"domain":{"min":"0","max":"1"}},{"type":"folder","id":"101","title":"Implicit Surface","hidden":true,"collapsed":true},{"type":"expression","id":"150","folderId":"101","color":"#388c46","latex":"G\\left(x,y,z\\right)=\\left(x^{2}+y^{2}+z^{2}+R^{2}-r^{2}\\right)^{2}-4R^{2}\\left(x^{2}+y^{2}\\right)"},{"type":"expression","id":"112","folderId":"101","color":"#000000","latex":"z_{0}=-r","slider":{"hardMin":true,"hardMax":true,"min":"-S","max":"0","step":"0.01"}},{"type":"expression","id":"113","folderId":"101","color":"#c74440","latex":"z_{1}=r","slider":{"hardMin":true,"hardMax":true,"min":"0","max":"S","step":"0.01"}},{"type":"expression","id":"114","folderId":"101","color":"#2d70b3","latex":"D_{z}=10","slider":{"hardMin":true,"hardMax":true,"min":"4","max":"20","step":"1"}},{"type":"expression","id":"119","folderId":"101","color":"#c74440","latex":"x_{0}=-\\left(R+r\\right)","slider":{"hardMin":true,"hardMax":true,"min":"-S","max":"0","step":"0.01"}},{"type":"expression","id":"120","folderId":"101","color":"#2d70b3","latex":"x_{1}=R+r","slider":{"hardMin":true,"hardMax":true,"min":"0","max":"S","step":"0.01"}},{"type":"expression","id":"121","folderId":"101","color":"#388c46","latex":"D_{x}=10","slider":{"hardMin":true,"hardMax":true,"min":"4","max":"20","step":"1"}},{"type":"expression","id":"124","folderId":"101","color":"#c74440","latex":"y_{0}=-\\left(R+r\\right)","slider":{"hardMin":true,"hardMax":true,"min":"-S","max":"0","step":"0.01"}},{"type":"expression","id":"137","folderId":"101","color":"#c74440","latex":"y_{1}=R+r","slider":{"hardMin":true,"hardMax":true,"min":"0","max":"S","step":"0.01"}},{"type":"expression","id":"138","folderId":"101","color":"#2d70b3","latex":"D_{y}=10","slider":{"hardMin":true,"hardMax":true,"min":"4","max":"20","step":"1"}},{"type":"expression","id":"116","folderId":"101","color":"#000000","latex":"s_{z}\\left(n\\right)=z_{0}+\\frac{n}{D_{z}}\\left(z_{1}-z_{0}\\right)","hidden":true},{"type":"expression","id":"122","folderId":"101","color":"#000000","latex":"s_{x}\\left(n\\right)=x_{0}+\\frac{n}{D_{x}}\\left(x_{1}-x_{0}\\right)","hidden":true},{"type":"expression","id":"139","folderId":"101","color":"#000000","latex":"s_{y}\\left(n\\right)=y_{0}+\\frac{n}{D_{y}}\\left(y_{1}-y_{0}\\right)","hidden":true},{"type":"text","id":"118","folderId":"101","text":"use tanh to reduce overflow error"},{"type":"expression","id":"115","folderId":"101","color":"#6042a6","latex":"\\prod_{n=0}^{D_{z}}\\tanh\\left(G\\left(K_{11}\\left(x-A_{13}s_{z}\\left(n\\right)\\right)+K_{12}\\left(y-A_{23}s_{z}\\left(n\\right)\\right),K_{21}\\left(x-A_{13}s_{z}\\left(n\\right)\\right)+K_{22}\\left(y-A_{23}s_{z}\\left(n\\right)\\right),s_{z}\\left(n\\right)\\right)\\right)=0"},{"type":"expression","id":"134","folderId":"101","color":"#6042a6","latex":"\\prod_{n=0}^{D_{x}}\\tanh\\left(G\\left(s_{x}\\left(n\\right),I_{11}\\left(x-A_{11}s_{x}\\left(n\\right)\\right)+I_{12}\\left(y-A_{21}s_{x}\\left(n\\right)\\right),I_{21}\\left(x-A_{11}s_{x}\\left(n\\right)\\right)+I_{22}\\left(y-A_{21}s_{x}\\left(n\\right)\\right)\\right)\\right)=0"},{"type":"expression","id":"135","folderId":"101","color":"#6042a6","latex":"\\prod_{n=0}^{D_{y}}\\tanh\\left(G\\left(J_{11}\\left(x-A_{12}s_{y}\\left(n\\right)\\right)+J_{12}\\left(y-A_{22}s_{y}\\left(n\\right)\\right),s_{y}\\left(n\\right),J_{21}\\left(x-A_{12}s_{y}\\left(n\\right)\\right)+J_{22}\\left(y-A_{22}s_{y}\\left(n\\right)\\right)\\right)\\right)=0"},{"type":"expression","id":"452","color":"#388c46"},{"type":"folder","id":"467","title":"bound-x","hidden":true,"collapsed":true},{"type":"expression","id":"442","folderId":"467","color":"#6042a6","latex":"u_{t0}=\\arctan\\left(A_{12},A_{11}\\right)"},{"type":"expression","id":"450","folderId":"467","color":"#c74440","latex":"k_{u0}=A_{11}\\cos\\left(u_{t0}\\right)+A_{12}\\sin\\left(u_{t0}\\right)"},{"type":"expression","id":"449","folderId":"467","color":"#000000","latex":"\\left(U\\left(X\\left(u_{t0},t\\right),Y\\left(u_{t0},t\\right),Z\\left(u_{t0},t\\right)\\right),V\\left(X\\left(u_{t0},t\\right),Y\\left(u_{t0},t\\right),Z\\left(u_{t0},t\\right)\\right)\\right)","parametricDomain":{"min":"0","max":"2\\pi"},"domain":{"min":"0","max":"2\\pi"}},{"type":"expression","id":"443","folderId":"467","color":"#000000","latex":"v_{t0}=\\arctan\\left(A_{13},k_{u0}\\right)"},{"type":"expression","id":"444","folderId":"467","color":"#c74440","latex":"k_{v0}=k_{u0}\\left(R+r\\cos\\left(v_{t0}\\right)\\right)+A_{13}r\\sin\\left(v_{t0}\\right)"},{"type":"expression","id":"439","folderId":"467","color":"#c74440","latex":"\\max\\left(\\operatorname{abs}\\left(x\\right)-k_{v0},\\operatorname{abs}\\left(y\\right)-\\left(R+r\\right)\\right)=0"},{"type":"expression","id":"462","color":"#388c46"},{"type":"folder","id":"477","title":"outline"},{"type":"expression","id":"473","folderId":"477","color":"#388c46","latex":"a_{0}=1.43","slider":{"hardMin":true,"hardMax":true,"min":"0","max":"2\\pi"}},{"type":"text","id":"475","folderId":"477","text":"a=\\left[0.02\\pi,0.04\\pi...2\\pi\\right]0+a_{0}"},{"type":"expression","id":"451","folderId":"477","color":"#2d70b3","latex":"a=\\left[0.02\\pi,0.04\\pi...2\\pi\\right]","slider":{"hardMin":true,"hardMax":true,"min":"0","max":"2\\pi","step":"0.01"}},{"type":"expression","id":"464","folderId":"477","color":"#000000","latex":"\\left(\\cos\\left(a\\right),\\sin\\left(a\\right)\\right)t","parametricDomain":{"min":"0","max":"5"},"hidden":true,"lineStyle":"DASHED","domain":{"min":"0","max":"5"}},{"type":"expression","id":"457","folderId":"477","color":"#000000","latex":"\\left(-\\sin\\left(a\\right),\\cos\\left(a\\right)\\right)t+P_{E}","parametricDomain":{"min":"-5","max":"5"},"hidden":true,"lineStyle":"DASHED","domain":{"min":"-5","max":"5"}},{"type":"expression","id":"453","folderId":"477","color":"#6042a6","latex":"a_{11}=A_{11}\\cos\\left(a\\right)+A_{21}\\sin\\left(a\\right)"},{"type":"expression","id":"454","folderId":"477","color":"#000000","latex":"a_{12}=A_{12}\\cos\\left(a\\right)+A_{22}\\sin\\left(a\\right)"},{"type":"expression","id":"463","folderId":"477","color":"#6042a6","latex":"a_{13}=A_{13}\\cos\\left(a\\right)+A_{23}\\sin\\left(a\\right)"},{"type":"expression","id":"455","folderId":"477","color":"#c74440","latex":"u_{t}=\\arctan\\left(a_{12},a_{11}\\right)"},{"type":"expression","id":"461","folderId":"477","color":"#000000","latex":"\\left(U\\left(X\\left(u_{t},t\\right),Y\\left(u_{t},t\\right),Z\\left(u_{t},t\\right)\\right),V\\left(X\\left(u_{t},t\\right),Y\\left(u_{t},t\\right),Z\\left(u_{t},t\\right)\\right)\\right)","parametricDomain":{"min":"0","max":"2\\pi"},"hidden":true,"domain":{"min":"0","max":"2\\pi"}},{"type":"expression","id":"456","folderId":"477","color":"#2d70b3","latex":"k_{u}=a_{11}\\cos\\left(u_{t}\\right)+a_{12}\\sin\\left(u_{t}\\right)"},{"type":"expression","id":"458","folderId":"477","color":"#6042a6","latex":"v_{t}=\\arctan\\left(a_{13},k_{u}\\right)"},{"type":"expression","id":"459","folderId":"477","color":"#000000","latex":"k_{v}=k_{u}\\left(R+r\\cos\\left(v_{t}\\right)\\right)+a_{13}r\\sin\\left(v_{t}\\right)"},{"type":"expression","id":"465","folderId":"477","color":"#c74440","latex":"P_{E}=\\left(U\\left(X\\left(u_{t},v_{t}\\right),Y\\left(u_{t},v_{t}\\right),Z\\left(u_{t},v_{t}\\right)\\right),V\\left(X\\left(u_{t},v_{t}\\right),Y\\left(u_{t},v_{t}\\right),Z\\left(u_{t},v_{t}\\right)\\right)\\right)"},{"type":"expression","id":"470","folderId":"477","color":"#000000","latex":"v_{t1}=v_{t}+\\pi"},{"type":"expression","id":"472","folderId":"477","color":"#c74440","latex":"P_{E1}=\\left(U\\left(X\\left(u_{t},v_{t1}\\right),Y\\left(u_{t},v_{t1}\\right),Z\\left(u_{t},v_{t1}\\right)\\right),V\\left(X\\left(u_{t},v_{t1}\\right),Y\\left(u_{t},v_{t1}\\right),Z\\left(u_{t},v_{t1}\\right)\\right)\\right)"},{"type":"expression","id":"468","color":"#388c46"}]}}}
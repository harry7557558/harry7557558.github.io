{"hash":"f9vwgan2ip","parent_hash":"etme9s0pgo","thumbUrl":"https://www.desmos.com/calc_thumbs/production/f9vwgan2ip.png","stateUrl":"https://www.desmos.com/calc-states/production/f9vwgan2ip","title":"Desmos 3D (Perspective)","access":"link","created":"Sun, 05 Apr 2020 01:45:53 GMT","state":{"version":7,"graph":{"viewport":{"xmin":-12.655513049731987,"ymin":-9.586066299524534,"xmax":11.110083052689323,"ymax":9.010716830678147},"showGrid":false,"showXAxis":false,"showYAxis":false},"randomSeed":"feb96eabeafe8ce9b44b57443ad49d54","expressions":{"list":[{"type":"text","id":"256","text":"3D modeling and animation on Desmos. I decide to keep most of my creation process."},{"type":"folder","id":"252","title":"Camera Control","hidden":true},{"type":"text","id":"31","folderId":"252","text":"These variables control the camera, where the camera is located at d\u00b7(cos(rz)cos(rx), sin(rz)cos(rx), sin(rx))."},{"type":"expression","id":"1","folderId":"252","color":"#c74440","latex":"r_{x}=0.35","slider":{"hardMin":true,"hardMax":true,"playDirection":-1,"min":"0","max":"\\frac{\\pi}{2}","step":"0.001"}},{"type":"expression","id":"3","folderId":"252","color":"#388c46","latex":"r_{z}=1.83","slider":{"hardMin":true,"hardMax":true,"loopMode":"LOOP_FORWARD","min":"0","max":"2\\pi","step":"0.001"}},{"type":"expression","id":"180","folderId":"252","color":"#000000","latex":"r_{y}=-0.02","slider":{"hardMin":true,"hardMax":true,"min":"-0.5","max":"0.5","step":"0.001"}},{"type":"expression","id":"171","folderId":"252","color":"#2d70b3","latex":"d=46","slider":{"hardMin":true,"hardMax":true,"min":"2","max":"100","step":"0.001"}},{"type":"folder","id":"11","title":"Transformation Matrix","hidden":true,"collapsed":true},{"type":"text","id":"49","folderId":"11","text":"Rotation Matrix"},{"type":"expression","id":"6","folderId":"11","color":"#c74440","latex":"R_{1}=\\left[-\\cos\\left(r_{y}\\right)\\sin\\left(r_{z}\\right)+\\sin\\left(r_{y}\\right)\\sin\\left(r_{x}\\right)\\cos\\left(r_{z}\\right),\\cos\\left(r_{y}\\right)\\cos\\left(r_{z}\\right)+\\sin\\left(r_{y}\\right)\\sin\\left(r_{x}\\right)\\sin\\left(r_{z}\\right),-\\cos\\left(r_{x}\\right)\\sin\\left(r_{y}\\right)\\right]"},{"type":"expression","id":"13","folderId":"11","color":"#2d70b3","latex":"R_{2}=\\left[-\\sin\\left(r_{y}\\right)\\sin\\left(r_{z}\\right)-\\sin\\left(r_{x}\\right)\\cos\\left(r_{y}\\right)\\cos\\left(r_{z}\\right),\\sin\\left(r_{y}\\right)\\cos\\left(r_{z}\\right)-\\sin\\left(r_{x}\\right)\\cos\\left(r_{y}\\right)\\sin\\left(r_{z}\\right),\\cos\\left(r_{x}\\right)\\cos\\left(r_{y}\\right)\\right]"},{"type":"expression","id":"174","folderId":"11","color":"#000000","latex":"R_{3}=\\left[\\cos\\left(r_{x}\\right)\\cos\\left(r_{z}\\right),\\cos\\left(r_{x}\\right)\\sin\\left(r_{z}\\right),\\sin\\left(r_{x}\\right)\\right]"},{"type":"text","id":"183","folderId":"11","text":"Final 4x4 Matrix"},{"type":"expression","id":"198","folderId":"11","color":"#000000","latex":"A_{1}=\\left[R_{1}\\left[1\\right],R_{1}\\left[2\\right],R_{1}\\left[3\\right],0\\right]"},{"type":"expression","id":"199","folderId":"11","color":"#c74440","latex":"A_{2}=\\left[R_{2}\\left[1\\right],R_{2}\\left[2\\right],R_{2}\\left[3\\right],0\\right]"},{"type":"expression","id":"200","folderId":"11","color":"#2d70b3","latex":"A_{3}=\\left[R_{3}\\left[1\\right],R_{3}\\left[2\\right],R_{3}\\left[3\\right],0\\right]"},{"type":"expression","id":"201","folderId":"11","color":"#388c46","latex":"A_{4}=\\left[-\\frac{1}{d}R_{3}\\left[1\\right],-\\frac{1}{d}R_{3}\\left[2\\right],-\\frac{1}{d}R_{3}\\left[3\\right],1\\right]"},{"type":"text","id":"169","folderId":"11","text":"Projecting 3D coordinate to 2D plane"},{"type":"expression","id":"165","folderId":"11","color":"#2d70b3","latex":"U\\left(x,y,z\\right)=\\frac{A_{1}\\left[1\\right]x+A_{1}\\left[2\\right]y+A_{1}\\left[3\\right]z+A_{1}\\left[4\\right]}{A_{4}\\left[1\\right]x+A_{4}\\left[2\\right]y+A_{4}\\left[3\\right]z+A_{4}\\left[4\\right]}\\left\\{A_{4}\\left[1\\right]x+A_{4}\\left[2\\right]y+A_{4}\\left[3\\right]z+A_{4}\\left[4\\right]>0\\right\\}"},{"type":"expression","id":"167","folderId":"11","color":"#6042a6","latex":"V\\left(x,y,z\\right)=\\frac{A_{2}\\left[1\\right]x+A_{2}\\left[2\\right]y+A_{2}\\left[3\\right]z+A_{2}\\left[4\\right]}{A_{4}\\left[1\\right]x+A_{4}\\left[2\\right]y+A_{4}\\left[3\\right]z+A_{4}\\left[4\\right]}\\left\\{A_{4}\\left[1\\right]x+A_{4}\\left[2\\right]y+A_{4}\\left[3\\right]z+A_{4}\\left[4\\right]>0\\right\\}"},{"type":"text","id":"254","folderId":"11","text":"The above have a large room of optimization. However, they are tiny compare to the crazy modeling part, so I decide to leave them as the easy-understanding form."},{"type":"folder","id":"36","title":"Axis and Grid","collapsed":true},{"type":"expression","id":"170","folderId":"36","color":"#c74440","latex":"S=10","slider":{"hardMin":true,"hardMax":true,"min":"4","max":"100","step":"1"}},{"type":"expression","id":"5","folderId":"36","color":"#c74440","latex":"G_{x}\\left(t\\right)=\\left\\{t>0:\\operatorname{floor}\\left(2t-S\\right),\\ S\\left(2\\left(\\left(S-2t\\right)-\\operatorname{floor}\\left(S-2t\\right)\\right)-1\\right)\\right\\}","hidden":true},{"type":"expression","id":"7","folderId":"36","color":"#388c46","latex":"G_{y}\\left(t\\right)=\\left\\{t>0:\\ S\\left(2\\left(\\left(2t-S\\right)-\\operatorname{floor}\\left(2t-S\\right)\\right)-1\\right),\\ \\operatorname{floor}\\left(S-2t\\right)-2S\\right\\}","hidden":true},{"type":"expression","id":"20","folderId":"36","color":"#fa7e19","latex":"\\left(U\\left(G_{x}\\left(t\\right),G_{y}\\left(t\\right),0\\right),V\\left(G_{x}\\left(t\\right),G_{y}\\left(t\\right),0\\right)\\right)","parametricDomain":{"min":"-S-\\frac{1}{2}","max":"S+\\frac{1}{2}"},"hidden":true,"domain":{"min":"-S-\\frac{1}{2}","max":"S+\\frac{1}{2}"}},{"type":"expression","id":"23","folderId":"36","color":"#c74440","latex":"\\left(U\\left(-S\\cdot\\left(1-t\\right)+S\\cdot t,0,0\\right),\\ V\\left(-S\\cdot\\left(1-t\\right)+S\\cdot t,0,0\\right)\\right)","parametricDomain":{"min":"0","max":"1"},"domain":{"min":"0","max":"1"}},{"type":"expression","id":"24","folderId":"36","color":"#388c46","latex":"\\left(U\\left(0,-S\\cdot\\left(1-t\\right)+S\\cdot t,0\\right),\\ V\\left(0,-S\\cdot\\left(1-t\\right)+S\\cdot t,0\\right)\\right)","parametricDomain":{"min":"0","max":"1"},"domain":{"min":"0","max":"1"}},{"type":"expression","id":"25","folderId":"36","color":"#2d70b3","latex":"\\left(U\\left(0,0,\\frac{2}{3}\\left(-S\\cdot\\left(1-t\\right)+S\\cdot t\\right)\\right),\\ V\\left(0,0,\\frac{2}{3}\\left(-S\\cdot\\left(1-t\\right)+S\\cdot t\\right)\\right)\\right)","parametricDomain":{"min":"0","max":"1"},"domain":{"min":"0","max":"1"}},{"type":"folder","id":"247","title":"Useful small functions"},{"type":"text","id":"251","folderId":"247","text":"These functions are used in computer graphics, where fr is fractional part, ss is smoothstep, hs and Hs are float-point hash functions."},{"type":"expression","id":"219","folderId":"247","color":"#2d70b3","latex":"f_{r}\\left(x\\right)=\\operatorname{mod}\\left(x,1\\right)","hidden":true},{"type":"expression","id":"218","folderId":"247","color":"#c74440","latex":"s_{s}\\left(t\\right)=t^{2}\\left(3-2t\\right)","hidden":true},{"type":"expression","id":"245","folderId":"247","color":"#6042a6","latex":"h_{s}\\left(x\\right)=f_{r}\\left(43758.5453\\sin\\left(12.9898x+12.87\\right)\\right)","hidden":true},{"type":"expression","id":"204","folderId":"247","color":"#388c46","latex":"H_{s}\\left(x,y\\right)=f_{r}\\left(23892.58\\sin(28.28x+73.7y)\\right)"},{"type":"text","id":"249","folderId":"247","text":"These functions/variables are used for visualizing explicit surface"},{"type":"expression","id":"211","folderId":"247","color":"#6042a6","latex":"N=30","slider":{"hardMin":true,"hardMax":true,"min":"8","max":"30","step":"1"}},{"type":"expression","id":"212","folderId":"247","color":"#000000","latex":"R=\\frac{4}{5}S"},{"type":"expression","id":"213","folderId":"247","color":"#c74440","latex":"q_{e}\\left(t\\right)=\\frac{R}{N}\\operatorname{floor}\\left(Nt\\right)","hidden":true},{"type":"expression","id":"214","folderId":"247","color":"#2d70b3","latex":"r_{e}\\left(t\\right)=R\\left(2N\\left(t-\\frac{1}{N}\\operatorname{floor}\\left(Nt\\right)\\right)-1\\right)","hidden":true},{"type":"folder","id":"226","title":"An unused procedural terrain","hidden":true,"collapsed":true},{"type":"text","id":"244","folderId":"226","text":"Value noise translated from a GLSL code. I can turn it into an ocean by some simple modifications. However, it is too slow to be made animated on Desmos. (and I'm too lazy to do optimization)"},{"type":"expression","id":"220","folderId":"226","color":"#388c46","latex":"n_{a}\\left(x,y\\right)=H_{s}\\left(\\frac{1}{256}\\left(\\operatorname{floor}\\left(x\\right)+\\frac{1}{2}\\right),\\frac{1}{256}\\left(\\operatorname{floor}\\left(y\\right)+\\frac{1}{2}\\right)\\right)"},{"type":"expression","id":"221","folderId":"226","color":"#6042a6","latex":"n_{b}\\left(x,y\\right)=H_{s}\\left(\\frac{1}{256}\\left(\\operatorname{floor}\\left(x\\right)+\\frac{3}{2}\\right),\\frac{1}{256}\\left(\\operatorname{floor}\\left(y\\right)+\\frac{1}{2}\\right)\\right)"},{"type":"expression","id":"222","folderId":"226","color":"#000000","latex":"n_{c}\\left(x,y\\right)=H_{s}\\left(\\frac{1}{256}\\left(\\operatorname{floor}\\left(x\\right)+\\frac{1}{2}\\right),\\frac{1}{256}\\left(\\operatorname{floor}\\left(y\\right)+\\frac{3}{2}\\right)\\right)"},{"type":"expression","id":"223","folderId":"226","color":"#c74440","latex":"n_{d}\\left(x,y\\right)=H_{s}\\left(\\frac{1}{256}\\left(\\operatorname{floor}\\left(x\\right)+\\frac{3}{2}\\right),\\frac{1}{256}\\left(\\operatorname{floor}\\left(y\\right)+\\frac{3}{2}\\right)\\right)"},{"type":"expression","id":"217","folderId":"226","color":"#000000","latex":"N_{s}\\left(x,y\\right)=n_{a}\\left(x,y\\right)+\\left(n_{b}\\left(x,y\\right)-n_{a}\\left(x,y\\right)\\right)s_{s}\\left(f_{r}\\left(x\\right)\\right)+\\left(n_{c}\\left(x,y\\right)-n_{a}\\left(x,y\\right)\\right)s_{s}\\left(f_{r}\\left(y\\right)\\right)+\\left(n_{a}\\left(x,y\\right)-n_{b}\\left(x,y\\right)-n_{c}\\left(x,y\\right)+n_{d}\\left(x,y\\right)\\right)s_{s}\\left(f_{r}\\left(x\\right)\\right)s_{s}\\left(f_{r}\\left(y\\right)\\right)"},{"type":"expression","id":"225","folderId":"226","color":"#388c46","latex":"T_{r}\\left(x,y\\right)=\\sum_{k=0}^{3}0.5^{k}N_{s}\\left(2^{k}x,2^{k}y\\right)"},{"type":"expression","id":"208","folderId":"226","color":"#c74440","latex":"T\\left(x,y\\right)=2T_{r}\\left(0.2x,0.2y\\right)-1"},{"type":"expression","id":"215","folderId":"226","color":"#388c46","latex":"\\left(U\\left(q_{e}\\left(t\\right),r_{e}\\left(t\\right),T\\left(r_{e}\\left(t\\right),q_{e}\\left(t\\right)\\right)\\right),\\ V\\left(q_{e}\\left(t\\right),r_{e}\\left(t\\right),T\\left(q_{e}\\left(t\\right),r_{e}\\left(t\\right)\\right)\\right)\\right)","parametricDomain":{"min":"-1","max":"1+\\frac{1}{N}"},"domain":{"min":"-1","max":"1+\\frac{1}{N}"}},{"type":"expression","id":"216","folderId":"226","color":"#c74440","latex":"\\left(U\\left(r_{e}\\left(t\\right),q_{e}\\left(t\\right),T\\left(r_{e}\\left(t\\right),q_{e}\\left(t\\right)\\right)\\right),\\ V\\left(r_{e}\\left(t\\right),q_{e}\\left(t\\right),T\\left(r_{e}\\left(t\\right),q_{e}\\left(t\\right)\\right)\\right)\\right)","parametricDomain":{"min":"-1","max":"1+\\frac{1}{N}"},"domain":{"min":"-1","max":"1+\\frac{1}{N}"}},{"type":"expression","id":"240","color":"#c74440","latex":"t_{m}=1.07","slider":{"hardMin":true,"hardMax":true,"loopMode":"LOOP_FORWARD","min":"0","max":"2\\pi","step":"0.01"}},{"type":"text","id":"242","text":"One ocean attemption"},{"type":"expression","id":"237","color":"#388c46","latex":"F\\left(x,y\\right)=0.3\\sum_{k=1}^{3}0.5^{k}\\exp\\left(\\sin\\left(2^{k}\\left(x+H_{s}\\left(k,k+1\\right)\\right)+k^{2}t_{m}\\right)\\cos\\left(2^{k}\\left(y+H_{s}\\left(1-k,k\\right)\\right)-k^{2}t_{m}\\right)\\right)"},{"type":"expression","id":"238","color":"#2d70b3","latex":"\\left(U\\left(q_{e}\\left(t\\right),r_{e}\\left(t\\right),F\\left(r_{e}\\left(t\\right),q_{e}\\left(t\\right)\\right)\\right),\\ V\\left(q_{e}\\left(t\\right),r_{e}\\left(t\\right),F\\left(q_{e}\\left(t\\right),r_{e}\\left(t\\right)\\right)\\right)\\right)","parametricDomain":{"min":"-1","max":"1+\\frac{1}{N}"},"domain":{"min":"-1","max":"1+\\frac{1}{N}"}},{"type":"expression","id":"239","color":"#2d70b3","latex":"\\left(U\\left(r_{e}\\left(t\\right),q_{e}\\left(t\\right),F\\left(r_{e}\\left(t\\right),q_{e}\\left(t\\right)\\right)\\right),\\ V\\left(r_{e}\\left(t\\right),q_{e}\\left(t\\right),F\\left(r_{e}\\left(t\\right),q_{e}\\left(t\\right)\\right)\\right)\\right)","parametricDomain":{"min":"-1","max":"1+\\frac{1}{N}"},"domain":{"min":"-1","max":"1+\\frac{1}{N}"}}]}}}
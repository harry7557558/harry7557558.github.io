{"hash": "pqgezgxk0l", "parent_hash": "kahbu67oih", "thumbUrl": "https://saved-work.desmos.com/calc_thumbs/production/pqgezgxk0l.png", "stateUrl": "https://saved-work.desmos.com/calc-states/production/pqgezgxk0l", "title": "3D Parametric Surface Template 3", "access": "link", "created": "Tue, 08 Feb 2022 01:34:27 GMT", "state": {"version": 9, "randomSeed": "474c87ecb03689480c53bd87d7968328", "graph": {"viewport": {"xmin": -1.7647695724707495, "ymin": -1.8409588445109968, "xmax": 2.471605332498881, "ymax": 1.80131023278369}, "showGrid": false, "showXAxis": false, "showYAxis": false}, "expressions": {"list": [{"type": "text", "id": "121", "text": "3D Parametric Surface Template 3 - by harry7557558"}, {"type": "text", "id": "244", "text": "Improved from version 2 https://www.desmos.com/calculator/ftuogjzprg by using a more efficient way to plot faces."}, {"type": "expression", "id": "240", "color": "#6042a6"}, {"type": "folder", "id": "238", "title": "Equations and parameters"}, {"type": "expression", "id": "16", "folderId": "238", "color": "#c74440", "latex": "x_{obj}\\left(u,v\\right)=v^{2.2}\\sin\\left(4\\pi\\ln\\left(v\\right)\\right)\\left(0.95+\\cos\\left(2\\pi u\\right)\\right)"}, {"type": "expression", "id": "17", "folderId": "238", "color": "#2d70b3", "latex": "y_{obj}\\left(u,v\\right)=v^{2.2}\\cos\\left(4\\pi\\ln\\left(v\\right)\\right)\\left(0.95+\\cos\\left(2\\pi u\\right)\\right)"}, {"type": "expression", "id": "18", "folderId": "238", "color": "#388c46", "latex": "z_{obj}\\left(u,v\\right)=v^{2.2}\\left(\\sin\\left(2\\pi u\\right)-1.5\\right)+1"}, {"type": "expression", "id": "19", "folderId": "238", "color": "#6042a6", "latex": "m_{obj}=20", "slider": {"hardMax": true, "max": "100", "step": "1"}}, {"type": "expression", "id": "21", "folderId": "238", "color": "#c74440", "latex": "n_{obj}=40", "slider": {"hardMax": true, "max": "100", "step": "1"}}, {"type": "expression", "id": "118", "color": "#c74440"}, {"type": "folder", "id": "35", "title": "Camera", "collapsed": true}, {"type": "expression", "id": "98", "folderId": "35", "color": "#000000", "latex": "L_{arge}=10^{7}"}, {"type": "expression", "id": "133", "folderId": "35", "color": "#000000", "latex": "\\operatorname{polygon}\\left(\\left(L_{arge},L_{arge}\\right),\\left(-L_{arge},L_{arge}\\right),\\left(-L_{arge},-L_{arge}\\right),\\left(L_{arge},-L_{arge}\\right)\\right)", "lines": false, "fillOpacity": "1"}, {"type": "image", "id": "109", "folderId": "35", "image_url": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAAtJREFUGFdjYAACAAAFAAGq1chRAAAAAElFTkSuQmCC", "name": "1x1-00000000.png", "hidden": true, "foreground": true, "center": "D_{rag}", "width": "L_{arge}", "height": "L_{arge}", "draggable": true}, {"type": "expression", "id": "112", "folderId": "35", "color": "#fa7e19", "latex": "D_{rag}=\\left(-r_{z},-r_{x}\\right)", "showLabel": true, "label": "rotation", "dragMode": "XY"}, {"type": "expression", "id": "1", "folderId": "35", "color": "#c74440", "latex": "r_{x}=0.194", "slider": {"hardMin": true, "hardMax": true, "min": "-\\pi", "max": "\\pi"}}, {"type": "expression", "id": "2", "folderId": "35", "color": "#2d70b3", "latex": "r_{z}=0.576", "slider": {"hardMin": true, "hardMax": true, "min": "-2\\pi", "max": "2\\pi"}}, {"type": "expression", "id": "3", "folderId": "35", "color": "#388c46", "latex": "r_{y}=0.174", "slider": {"hardMin": true, "hardMax": true, "min": "-\\frac{\\pi}{2}", "max": "\\frac{\\pi}{2}"}}, {"type": "expression", "id": "4", "folderId": "35", "color": "#6042a6", "latex": "d=10", "slider": {"hardMin": true, "hardMax": true, "min": "5", "max": "50"}}, {"type": "folder", "id": "34", "title": "Projection", "collapsed": true}, {"type": "expression", "id": "5", "folderId": "34", "color": "#000000", "latex": "A_{1}=\\left[-\\cos\\left(r_{y}\\right)\\sin\\left(r_{z}\\right)+\\sin\\left(r_{y}\\right)\\sin\\left(r_{x}\\right)\\cos\\left(r_{z}\\right),\\cos\\left(r_{y}\\right)\\cos\\left(r_{z}\\right)+\\sin\\left(r_{y}\\right)\\sin\\left(r_{x}\\right)\\sin\\left(r_{z}\\right),-\\cos\\left(r_{x}\\right)\\sin\\left(r_{y}\\right),0\\right]"}, {"type": "expression", "id": "6", "folderId": "34", "color": "#c74440", "latex": "A_{2}=\\left[-\\sin\\left(r_{y}\\right)\\sin\\left(r_{z}\\right)-\\sin\\left(r_{x}\\right)\\cos\\left(r_{y}\\right)\\cos\\left(r_{z}\\right),\\sin\\left(r_{y}\\right)\\cos\\left(r_{z}\\right)-\\sin\\left(r_{x}\\right)\\cos\\left(r_{y}\\right)\\sin\\left(r_{z}\\right),\\cos\\left(r_{x}\\right)\\cos\\left(r_{y}\\right),0\\right]"}, {"type": "expression", "id": "7", "folderId": "34", "color": "#2d70b3", "latex": "A_{3}=\\left[\\cos\\left(r_{x}\\right)\\cos\\left(r_{z}\\right),\\cos\\left(r_{x}\\right)\\sin\\left(r_{z}\\right),\\sin\\left(r_{x}\\right),0\\right]"}, {"type": "expression", "id": "8", "folderId": "34", "color": "#388c46", "latex": "A_{4}=\\left[-\\frac{1}{d}A_{3}\\left[1\\right],-\\frac{1}{d}A_{3}\\left[2\\right],-\\frac{1}{d}A_{3}\\left[3\\right],1\\right]"}, {"type": "expression", "id": "9", "folderId": "34", "color": "#6042a6", "latex": "U\\left(x,y,z\\right)=\\frac{A_{1}\\left[1\\right]x+A_{1}\\left[2\\right]y+A_{1}\\left[3\\right]z+A_{1}\\left[4\\right]}{A_{4}\\left[1\\right]x+A_{4}\\left[2\\right]y+A_{4}\\left[3\\right]z+A_{4}\\left[4\\right]}"}, {"type": "expression", "id": "10", "folderId": "34", "color": "#000000", "latex": "V\\left(x,y,z\\right)=\\frac{A_{2}\\left[1\\right]x+A_{2}\\left[2\\right]y+A_{2}\\left[3\\right]z+A_{2}\\left[4\\right]}{A_{4}\\left[1\\right]x+A_{4}\\left[2\\right]y+A_{4}\\left[3\\right]z+A_{4}\\left[4\\right]}"}, {"type": "expression", "id": "23", "folderId": "34", "color": "#388c46", "latex": "W\\left(x,y,z\\right)=\\frac{A_{3}\\left[1\\right]x+A_{3}\\left[2\\right]y+A_{3}\\left[3\\right]z+A_{3}\\left[4\\right]}{A_{4}\\left[1\\right]x+A_{4}\\left[2\\right]y+A_{4}\\left[3\\right]z+A_{4}\\left[4\\right]}"}, {"type": "expression", "id": "176", "folderId": "34", "color": "#388c46", "latex": "P_{roj}\\left(x,y,z\\right)=\\frac{\\left(A_{1}\\left[1\\right]x+A_{1}\\left[2\\right]y+A_{1}\\left[3\\right]z+A_{1}\\left[4\\right],A_{2}\\left[1\\right]x+A_{2}\\left[2\\right]y+A_{2}\\left[3\\right]z+A_{2}\\left[4\\right]\\right)}{A_{4}\\left[1\\right]x+A_{4}\\left[2\\right]y+A_{4}\\left[3\\right]z+A_{4}\\left[4\\right]}"}, {"type": "expression", "id": "11", "folderId": "34", "color": "#c74440", "latex": "P_{roj}\\left(0,0,0\\right)\\left(1-t\\right)+P_{roj}\\left(5,0,0\\right)t"}, {"type": "expression", "id": "13", "folderId": "34", "color": "#388c46", "latex": "P_{roj}\\left(0,0,0\\right)\\left(1-t\\right)+P_{roj}\\left(0,5,0\\right)t"}, {"type": "expression", "id": "12", "folderId": "34", "color": "#2d70b3", "latex": "P_{roj}\\left(0,0,0\\right)\\left(1-t\\right)+P_{roj}\\left(0,0,5\\right)t"}, {"type": "expression", "id": "239", "color": "#388c46"}, {"type": "folder", "id": "38", "title": "Object", "collapsed": true}, {"type": "text", "id": "168", "folderId": "38", "text": "Grid"}, {"type": "expression", "id": "181", "folderId": "38", "color": "#388c46", "latex": "u_{dobj}=\\frac{1}{m_{obj}}"}, {"type": "expression", "id": "182", "folderId": "38", "color": "#6042a6", "latex": "v_{dobj}=\\frac{1}{n_{obj}}"}, {"type": "expression", "id": "174", "folderId": "38", "color": "#c74440", "latex": "u_{obj}=u_{dobj}\\cdot\\left[0,1...m_{obj}-1\\right]"}, {"type": "expression", "id": "175", "folderId": "38", "color": "#2d70b3", "latex": "v_{obj}=v_{dobj}\\cdot\\left[0,1...n_{obj}-1\\right]"}, {"type": "text", "id": "184", "folderId": "38", "text": "Raw points, (x,y) for (u,v)"}, {"type": "expression", "id": "134", "folderId": "38", "color": "#000000", "latex": "p_{00obj}=P_{roj}\\left(x_{obj}\\left(x,y\\right),y_{obj}\\left(x,y\\right),z_{obj}\\left(x,y\\right)\\right)", "hidden": true}, {"type": "expression", "id": "135", "folderId": "38", "color": "#000000", "latex": "p_{10obj}=P_{roj}\\left(x_{obj}\\left(x+u_{dobj},y\\right),y_{obj}\\left(x+u_{dobj},y\\right),z_{obj}\\left(x+u_{dobj},y\\right)\\right)", "hidden": true}, {"type": "expression", "id": "136", "folderId": "38", "color": "#000000", "latex": "p_{11obj}=P_{roj}\\left(x_{obj}\\left(x+u_{dobj},y+v_{dobj}\\right),y_{obj}\\left(x+u_{dobj},y+v_{dobj}\\right),z_{obj}\\left(x+u_{dobj},y+v_{dobj}\\right)\\right)", "hidden": true}, {"type": "expression", "id": "137", "folderId": "38", "color": "#000000", "latex": "p_{01obj}=P_{roj}\\left(x_{obj}\\left(x,y+v_{dobj}\\right),y_{obj}\\left(x,y+v_{dobj}\\right),z_{obj}\\left(x,y+v_{dobj}\\right)\\right)", "hidden": true}, {"type": "text", "id": "172", "folderId": "38", "text": "Z-buffer, sample at (0.5, 0.5)"}, {"type": "expression", "id": "187", "folderId": "38", "color": "#2d70b3", "latex": "z_{b0obj}=W\\left(x_{obj}\\left(x+0.5u_{dobj},y+0.5v_{dobj}\\right),y_{obj}\\left(x+0.5u_{dobj},y+0.5v_{dobj}\\right),z_{obj}\\left(x+0.5u_{dobj},y+0.5v_{dobj}\\right)\\right)"}, {"type": "expression", "id": "77", "folderId": "38", "color": "#2d70b3", "latex": "z_{bobj}=\\left[z_{b0obj}\\operatorname{for}x=u_{obj},y=v_{obj}\\right]"}, {"type": "expression", "id": "106", "color": "#388c46"}, {"type": "folder", "id": "79", "title": "Normal", "hidden": true, "collapsed": true}, {"type": "text", "id": "208", "folderId": "79", "text": "Derivatives to parameters"}, {"type": "expression", "id": "80", "folderId": "79", "color": "#6042a6", "latex": "x_{duobj}=\\frac{d}{dx}x_{obj}\\left(x,y\\right)"}, {"type": "expression", "id": "81", "folderId": "79", "color": "#000000", "latex": "y_{duobj}=\\frac{d}{dx}y_{obj}\\left(x,y\\right)"}, {"type": "expression", "id": "82", "folderId": "79", "color": "#c74440", "latex": "z_{duobj}=\\frac{d}{dx}z_{obj}\\left(x,y\\right)"}, {"type": "expression", "id": "83", "folderId": "79", "color": "#2d70b3", "latex": "x_{dvobj}=\\frac{d}{dy}x_{obj}\\left(x,y\\right)"}, {"type": "expression", "id": "84", "folderId": "79", "color": "#388c46", "latex": "y_{dvobj}=\\frac{d}{dy}y_{obj}\\left(x,y\\right)"}, {"type": "expression", "id": "85", "folderId": "79", "color": "#6042a6", "latex": "z_{dvobj}=\\frac{d}{dy}z_{obj}\\left(x,y\\right)"}, {"type": "text", "id": "210", "folderId": "79", "text": "Normal"}, {"type": "expression", "id": "86", "folderId": "79", "color": "#000000", "latex": "x_{dwobj}=y_{duobj}z_{dvobj}-z_{duobj}y_{dvobj}"}, {"type": "expression", "id": "87", "folderId": "79", "color": "#c74440", "latex": "y_{dwobj}=z_{duobj}x_{dvobj}-x_{duobj}z_{dvobj}"}, {"type": "expression", "id": "88", "folderId": "79", "color": "#2d70b3", "latex": "z_{dwobj}=x_{duobj}y_{dvobj}-y_{duobj}x_{dvobj}"}, {"type": "text", "id": "214", "folderId": "79", "text": "Normalized normal, change the sign of m_lobj if needed"}, {"type": "expression", "id": "89", "folderId": "79", "color": "#388c46", "latex": "m_{lobj}=\\frac{1}{\\sqrt{x_{dwobj}^{2}+y_{dwobj}^{2}+z_{dwobj}^{2}}}"}, {"type": "expression", "id": "90", "folderId": "79", "color": "#6042a6", "latex": "n_{xobj}=x_{dwobj}m_{lobj}"}, {"type": "expression", "id": "91", "folderId": "79", "color": "#000000", "latex": "n_{yobj}=y_{dwobj}m_{lobj}"}, {"type": "expression", "id": "92", "folderId": "79", "color": "#c74440", "latex": "n_{zobj}=z_{dwobj}m_{lobj}"}, {"type": "text", "id": "132", "folderId": "79", "text": "Visualize normals"}, {"type": "expression", "id": "130", "folderId": "79", "color": "#388c46", "latex": "e_{ndobj}=0.5", "slider": {"hardMin": true, "hardMax": true, "min": "-2", "max": "2"}}, {"type": "expression", "id": "129", "folderId": "79", "color": "#2d70b3", "latex": "\\left[P_{roj}\\left(x_{obj}\\left(x,y\\right),y_{obj}\\left(x,y\\right),z_{obj}\\left(x,y\\right)\\right)\\left(1-t\\right)+P_{roj}\\left(x_{obj}\\left(x,y\\right)+e_{ndobj}n_{xobj},y_{obj}\\left(x,y\\right)+e_{ndobj}n_{yobj},z_{obj}\\left(x,y\\right)+e_{ndobj}n_{zobj}\\right)t\\operatorname{for}x=u_{obj},y=v_{obj}\\right]", "parametricDomain": {"min": "0", "max": "1"}, "domain": {"min": "0", "max": "1"}}, {"type": "folder", "id": "40", "title": "Shading", "collapsed": true}, {"type": "text", "id": "224", "folderId": "40", "text": "Sign of normal"}, {"type": "expression", "id": "233", "folderId": "40", "color": "#388c46", "latex": "n_{dot}\\left(p,q\\right)=p.xq.y-p.yq.x"}, {"type": "expression", "id": "234", "folderId": "40", "color": "#6042a6", "latex": "s_{nobj}=\\operatorname{sign}\\left(n_{dot}\\left(p_{00obj},p_{10obj}\\right)+n_{dot}\\left(p_{10obj},p_{11obj}\\right)+n_{dot}\\left(p_{11obj},p_{01obj}\\right)+n_{dot}\\left(p_{01obj},p_{00obj}\\right)\\right)"}, {"type": "text", "id": "226", "folderId": "40", "text": "RGB definition"}, {"type": "expression", "id": "28", "folderId": "40", "color": "#2d70b3", "latex": "r_{0obj}=0.5+0.5s_{nobj}n_{xobj}"}, {"type": "expression", "id": "29", "folderId": "40", "color": "#388c46", "latex": "g_{0obj}=0.5+0.5s_{nobj}n_{yobj}"}, {"type": "expression", "id": "30", "folderId": "40", "color": "#6042a6", "latex": "b_{0obj}=0.5+0.5s_{nobj}n_{zobj}"}, {"type": "text", "id": "228", "folderId": "40", "text": "Magnitude and direction of light"}, {"type": "expression", "id": "93", "folderId": "40", "color": "#2d70b3", "latex": "x_{light}=0.5", "slider": {"hardMin": true, "hardMax": true, "min": "-2", "max": "2"}}, {"type": "expression", "id": "94", "folderId": "40", "color": "#388c46", "latex": "y_{light}=0.8", "slider": {"hardMin": true, "hardMax": true, "min": "-2", "max": "2"}}, {"type": "expression", "id": "95", "folderId": "40", "color": "#6042a6", "latex": "z_{light}=0.5", "slider": {"hardMin": true, "hardMax": true, "min": "-2", "max": "2"}}, {"type": "text", "id": "230", "folderId": "40", "text": "Shading"}, {"type": "expression", "id": "96", "folderId": "40", "color": "#000000", "latex": "d_{iffuseobj}=\\max\\left(\\frac{x_{light}n_{xobj}+y_{light}n_{yobj}+z_{light}n_{zobj}}{\\sqrt{x_{light}^{2}+y_{light}^{2}+z_{light}^{2}}},0\\right)"}, {"type": "expression", "id": "97", "folderId": "40", "color": "#c74440", "latex": "s_{hadeobj}=0.3+0.1n_{yobj}+0.7d_{iffuseobj}+0.1d_{iffuseobj}^{10}"}, {"type": "expression", "id": "31", "folderId": "40", "color": "#000000", "latex": "r_{obj}=r_{0obj}s_{hadeobj}"}, {"type": "expression", "id": "32", "folderId": "40", "color": "#c74440", "latex": "g_{obj}=g_{0obj}s_{hadeobj}"}, {"type": "expression", "id": "33", "folderId": "40", "color": "#2d70b3", "latex": "b_{obj}=b_{0obj}s_{hadeobj}"}, {"type": "text", "id": "232", "folderId": "40", "text": "Output color"}, {"type": "expression", "id": "24", "folderId": "40", "color": "#6042a6", "latex": "c_{obj}=\\operatorname{sort}\\left(\\left[\\operatorname{rgb}\\left(255r_{obj},255g_{obj},255b_{obj}\\right)\\operatorname{for}x=u_{obj},y=v_{obj}\\right],z_{bobj}\\right)"}, {"type": "expression", "id": "198", "color": "#c74440"}, {"type": "folder", "id": "219", "title": "Display"}, {"type": "text", "id": "200", "folderId": "219", "text": "Points"}, {"type": "expression", "id": "193", "folderId": "219", "color": "#2d70b3", "latex": "\\operatorname{sort}\\left(\\left[P_{roj}\\left(x_{obj}\\left(x,y\\right),y_{obj}\\left(x,y\\right),z_{obj}\\left(x,y\\right)\\right)\\operatorname{for}x=u_{obj}+0.5u_{dobj},y=v_{obj}+0.5v_{dobj}\\right],z_{bobj}\\right)", "hidden": true, "colorLatex": "c_{obj}"}, {"type": "text", "id": "204", "folderId": "219", "text": "Wireframe"}, {"type": "expression", "id": "36", "folderId": "219", "color": "#388c46", "latex": "\\operatorname{sort}\\left(\\left[\\operatorname{polygon}\\left(p_{00obj},p_{10obj},p_{11obj},p_{01obj}\\right)\\operatorname{for}x=u_{obj},y=v_{obj}\\right],z_{bobj}\\right)", "fill": false, "colorLatex": "c_{obj}"}, {"type": "text", "id": "202", "folderId": "219", "text": "Faces"}, {"type": "expression", "id": "195", "folderId": "219", "color": "#388c46", "latex": "\\operatorname{sort}\\left(\\left[\\operatorname{polygon}\\left(p_{00obj},p_{10obj},p_{11obj},p_{01obj}\\right)\\operatorname{for}x=u_{obj},y=v_{obj}\\right],z_{bobj}\\right)", "lines": false, "colorLatex": "c_{obj}", "fillOpacity": "0.8"}, {"type": "folder", "id": "dsm-metadata-folder", "title": "DesModder Metadata", "secret": true}, {"type": "text", "id": "dsm-metadata", "folderId": "dsm-metadata-folder", "text": "{\"version\":2,\"expressions\":{\"178\":{\"errorHidden\":true}}}"}, {"type": "expression", "id": "197", "color": "#000000"}]}}}